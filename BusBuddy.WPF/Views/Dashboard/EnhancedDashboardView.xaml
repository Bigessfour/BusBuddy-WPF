<UserControl x:Class="BusBuddy.WPF.Views.Dashboard.EnhancedDashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:local="clr-namespace:BusBuddy.WPF.Views.Dashboard"
             xmlns:viewModels="clr-namespace:BusBuddy.WPF.ViewModels"
             xmlns:scheduleViewModels="clr-namespace:BusBuddy.WPF.ViewModels.Schedule"
             xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
             xmlns:chart="clr-namespace:Syncfusion.UI.Xaml.Charts;assembly=Syncfusion.SfChart.WPF"
             xmlns:gauge="clr-namespace:Syncfusion.UI.Xaml.Gauges;assembly=Syncfusion.SfGauge.WPF"
             xmlns:progressbar="clr-namespace:Syncfusion.UI.Xaml.ProgressBar;assembly=Syncfusion.SfProgressBar.WPF"
             xmlns:syncfusionskin="clr-namespace:Syncfusion.SfSkinManager;assembly=Syncfusion.SfSkinManager.WPF"
             xmlns:busView="clr-namespace:BusBuddy.WPF.Views.Bus"
             xmlns:driverView="clr-namespace:BusBuddy.WPF.Views.Driver"
             xmlns:routeView="clr-namespace:BusBuddy.WPF.Views.Route"
             xmlns:scheduleView="clr-namespace:BusBuddy.WPF.Views.Schedule"
             xmlns:studentView="clr-namespace:BusBuddy.WPF.Views.Student"
             xmlns:maintenanceView="clr-namespace:BusBuddy.WPF.Views.Maintenance"
             xmlns:fuelView="clr-namespace:BusBuddy.WPF.Views.Fuel"
             xmlns:activityView="clr-namespace:BusBuddy.WPF.Views.Activity"
             xmlns:views="clr-namespace:BusBuddy.WPF.Views"
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="1200"
             d:DataContext="{d:DesignInstance viewModels:DashboardViewModel}"
             syncfusionskin:SfSkinManager.VisualStyle="FluentDark">

    <UserControl.Resources>
        <!-- DataTemplates to map ViewModels to Views -->
        <DataTemplate DataType="{x:Type viewModels:BusManagementViewModel}">
            <busView:BusManagementView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModels:DriverManagementViewModel}">
            <driverView:DriverManagementView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModels:RouteManagementViewModel}">
            <routeView:RouteManagementView/>
        </DataTemplate>
        <!-- Enhanced DataTemplates for additional ViewModels -->
        <DataTemplate DataType="{x:Type scheduleViewModels:ScheduleManagementViewModel}">
            <ContentControl>
                <ContentControl.Content>
                    <scheduleView:ScheduleManagementView />
                </ContentControl.Content>
            </ContentControl>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModels:StudentManagementViewModel}">
            <ContentControl>
                <ContentControl.Content>
                    <studentView:StudentManagementView />
                </ContentControl.Content>
            </ContentControl>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModels:MaintenanceTrackingViewModel}">
            <ContentControl>
                <ContentControl.Content>
                    <maintenanceView:MaintenanceTrackingView />
                </ContentControl.Content>
            </ContentControl>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModels:FuelManagementViewModel}">
            <ContentControl>
                <ContentControl.Content>
                    <fuelView:FuelManagementView />
                </ContentControl.Content>
            </ContentControl>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModels:ActivityLogViewModel}">
            <ContentControl>
                <ContentControl.Content>
                    <activityView:ActivityLoggingView />
                </ContentControl.Content>
            </ContentControl>
        </DataTemplate>

        <!-- Enhanced Tile Style for Modern Appearance with Theme Support -->
        <Style x:Key="DashboardTileStyle" TargetType="Border" BasedOn="{StaticResource BusBuddyDashboardTileStyle}">
            <Setter Property="Background" Value="{StaticResource FluentDarkBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource FluentDarkBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="12" Direction="270" ShadowDepth="3" Opacity="0.15"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource FluentDarkOverlayBrush}"/>
                    <Setter Property="BorderBrush" Value="{StaticResource FluentDarkPrimaryBrush}"/>
                    <Setter Property="BorderThickness" Value="2"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect BlurRadius="16" Direction="270" ShadowDepth="4" Opacity="0.25"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.02" ScaleY="1.02"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Enhanced Tile Header Style with Theme Support -->
        <Style x:Key="TileHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{StaticResource FluentDarkForegroundBrush}"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <!-- Enhanced Tile Content Style with Theme Support -->
        <Style x:Key="TileContentStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="{StaticResource FluentDarkSecondaryTextBrush}"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
        </Style>

        <!-- Enhanced Tile Value Style with Theme Support -->
        <Style x:Key="TileValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource FluentDarkPrimaryBrush}"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
        </Style>

        <!-- Status Indicator Style -->
        <Style x:Key="StatusIndicatorStyle" TargetType="Ellipse">
            <Setter Property="Width" Value="12"/>
            <Setter Property="Height" Value="12"/>
            <Setter Property="Margin" Value="8,0,0,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <!-- Performance Tile Style for Metrics with Theme Support -->
        <Style x:Key="PerformanceTileStyle" TargetType="Border">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="{StaticResource FluentDarkPrimaryColor}" Offset="0"/>
                        <GradientStop Color="{StaticResource FluentDarkAccentColor}" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush" Value="{StaticResource FluentDarkPrimaryBrush}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="12" Direction="270" ShadowDepth="3" Opacity="0.2"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.05" ScaleY="1.05"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Enhanced Header with Live Status -->
        <Border Grid.Row="0" Background="{StaticResource FluentDarkPrimaryBrush}" Padding="16,12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="ðŸšŒ Bus Buddy Dashboard" FontSize="28" FontWeight="Bold" Foreground="{StaticResource FluentDarkForegroundBrush}" VerticalAlignment="Center"/>
                    <Border Background="{StaticResource FluentDarkSuccessBrush}" CornerRadius="12" Padding="8,4" Margin="16,0,0,0" VerticalAlignment="Center">
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Width="8" Height="8" Fill="{StaticResource FluentDarkForegroundBrush}" VerticalAlignment="Center" Margin="0,0,6,0">
                                <Ellipse.RenderTransform>
                                    <ScaleTransform x:Name="PulseTransform" ScaleX="1" ScaleY="1" CenterX="4" CenterY="4"/>
                                </Ellipse.RenderTransform>
                                <Ellipse.Triggers>
                                    <EventTrigger RoutedEvent="Loaded">
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PulseTransform" Storyboard.TargetProperty="ScaleX">
                                                    <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                                    <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1.3"/>
                                                    <EasingDoubleKeyFrame KeyTime="0:0:1" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PulseTransform" Storyboard.TargetProperty="ScaleY">
                                                    <EasingDoubleKeyFrame KeyTime="0:0:0" Value="1"/>
                                                    <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1.3"/>
                                                    <EasingDoubleKeyFrame KeyTime="0:0:1" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </Ellipse.Triggers>
                            </Ellipse>
                            <TextBlock Text="LIVE" FontSize="12" FontWeight="Bold" Foreground="{StaticResource FluentDarkForegroundBrush}" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <Border Background="{StaticResource FluentDarkSurfaceBrush}" CornerRadius="8" Padding="12,6" Margin="0,0,12,0" Opacity="0.9">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ•’" FontSize="16" VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="{Binding Source={x:Static sys:DateTime.Now}, StringFormat='HH:mm:ss'}"
                                      FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource FluentDarkPrimaryBrush}" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                    <Border Background="{StaticResource FluentDarkSurfaceBrush}" CornerRadius="8" Padding="12,6" Opacity="0.9">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“…" FontSize="16" VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock Text="{Binding Source={x:Static sys:DateTime.Now}, StringFormat='MMM dd, yyyy'}"
                                      FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource FluentDarkPrimaryBrush}" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content â€” DockingManager with baseline theme -->
        <Grid Grid.Row="1">
            <syncfusion:DockingManager x:Name="MainDockingManager"
                                       Style="{StaticResource BusBuddyDockingManagerStyle}"
                                       syncfusionskin:SfSkinManager.VisualStyle="FluentDark">

            <!-- Dashboard Overview Panel (Document) -->
            <ContentControl x:Name="DashboardOverview"
                          syncfusion:DockingManager.Header="Dashboard Overview"
                          syncfusion:DockingManager.State="Document"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="16">
                    <!-- Custom Tile Dashboard Implementation -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Enhanced Quick Stats Tiles Row 1 -->
                        <UniformGrid Grid.Row="0" Columns="4" Margin="0,0,0,20">
                            <!-- Enhanced Fleet Summary Tile -->
                            <Border x:Name="FleetStatusTile"
                                   Style="{StaticResource DashboardTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="ðŸšŒ Fleet Status" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#2ECC71" DockPanel.Dock="Right" ToolTip="System Online"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Total Buses:" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="{Binding TotalBuses}" Style="{StaticResource TileValueStyle}"/>
                                            <TextBlock Text="{Binding FleetActivePercentageFormatted, StringFormat='Active: {0}'}"
                                                      Style="{StaticResource TileContentStyle}" Margin="0,8,0,0" FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- Syncfusion Circular Progress for Fleet Status -->
                                        <progressbar:SfCircularProgressBar Grid.Column="1"
                                                                        Width="70" Height="70"
                                                                        Progress="{Binding FleetActivePercentage}"
                                                                        Margin="5"
                                                                        Style="{StaticResource BusBuddySfCircularProgressBarStyle}"
                                                                        syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                            <progressbar:SfCircularProgressBar.Content>
                                                <TextBlock Text="{Binding FleetActivePercentage, StringFormat='{}{0:F0}%'}" FontSize="12" FontWeight="Bold"
                                                         HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </progressbar:SfCircularProgressBar.Content>
                                        </progressbar:SfCircularProgressBar>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Driver Summary Tile -->
                            <Border x:Name="DriverManagementTile"
                                   Style="{StaticResource DashboardTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="ðŸ‘¨â€ðŸ’¼ Driver Management" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#3498DB" DockPanel.Dock="Right" ToolTip="Fully Staffed"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Total Drivers:" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="{Binding TotalDrivers}" Style="{StaticResource TileValueStyle}"/>
                                            <TextBlock Text="{Binding DriverAvailabilityPercentageFormatted, StringFormat='Available: {0}'}"
                                                      Style="{StaticResource TileContentStyle}" Margin="0,8,0,0" FontWeight="SemiBold"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding AvailableDriverCount}" FontSize="20" FontWeight="Bold"
                                                      Foreground="#3498DB" HorizontalAlignment="Center"/>
                                            <TextBlock Text="Available" FontSize="12" Foreground="#3498DB" HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Routes Summary Tile with Syncfusion Radial Gauge -->
                            <Border x:Name="RouteNetworkTile"
                                   Style="{StaticResource DashboardTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="ðŸ—ºï¸ Route Network" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#E67E22" DockPanel.Dock="Right" ToolTip="Optimized Coverage"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Active Routes:" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="{Binding TotalActiveRoutes}" Style="{StaticResource TileValueStyle}"/>
                                            <TextBlock Text="{Binding RouteCoveragePercentageFormatted, StringFormat='Coverage: {0}'}"
                                                      Style="{StaticResource TileContentStyle}" Margin="0,8,0,0" FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- Syncfusion Radial Gauge for Route Coverage -->
                                        <gauge:SfCircularGauge Grid.Column="1" Width="60" Height="60" Margin="10,0,0,0" syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                            <gauge:SfCircularGauge.Scales>
                                                <gauge:CircularScale StartAngle="135" SweepAngle="270"
                                                                   StartValue="0" EndValue="100"
                                                                   Interval="25" ShowTicks="False"
                                                                   ShowLabels="False"
                                                                   RimStroke="{StaticResource FluentDarkBorderBrush}" RimStrokeThickness="6">
                                                    <gauge:CircularScale.Pointers>
                                                        <gauge:CircularPointer NeedlePointerType="Triangle"
                                                                             PointerCapStroke="{StaticResource FluentDarkWarningBrush}"
                                                                             NeedlePointerStroke="{StaticResource FluentDarkWarningBrush}"
                                                                             Value="{Binding RouteCoveragePercentage}"/>
                                                    </gauge:CircularScale.Pointers>
                                                    <gauge:CircularScale.Ranges>
                                                        <gauge:CircularRange StartValue="0" EndValue="100"
                                                                           Stroke="{StaticResource FluentDarkWarningBrush}" StrokeThickness="6"/>
                                                    </gauge:CircularScale.Ranges>
                                                </gauge:CircularScale>
                                            </gauge:SfCircularGauge.Scales>
                                            <gauge:SfCircularGauge.Annotations>
                                                <gauge:GaugeAnnotation>
                                                    <gauge:GaugeAnnotation.Content>
                                                        <TextBlock Text="{Binding RouteCoveragePercentage, StringFormat='{}{0:F0}%'}"
                                                                  FontSize="12"
                                                                  FontWeight="Bold"
                                                                  Foreground="{StaticResource FluentDarkWarningBrush}"
                                                                  HorizontalAlignment="Center"
                                                                  VerticalAlignment="Center"/>
                                                    </gauge:GaugeAnnotation.Content>
                                                </gauge:GaugeAnnotation>
                                            </gauge:SfCircularGauge.Annotations>
                                        </gauge:SfCircularGauge>
                                    </Grid>
                                </StackPanel>
                            </Border>

        <!-- Enhanced Performance Tile with Syncfusion Gauge -->
                            <Border x:Name="SystemPerformanceTile"
                                   Style="{StaticResource PerformanceTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="âš¡ System Performance" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#2ECC71" DockPanel.Dock="Right" ToolTip="Excellent Performance"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Response Time:" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="{Binding InitializationTimeFormatted}" Style="{StaticResource TileValueStyle}" FontSize="20"/>
                                            <TextBlock Text="Next Update:" Style="{StaticResource TileContentStyle}" Margin="0,5,0,0"/>
                                            <TextBlock Text="{Binding NextUpdateTime}" FontSize="12" FontWeight="SemiBold" Foreground="#007ACC"/>
                                        </StackPanel>

                                        <!-- Syncfusion Circular Gauge for Performance -->
                                        <gauge:SfCircularGauge Grid.Column="1" Width="80" Height="80" Margin="10,0,0,0" syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                            <gauge:SfCircularGauge.Scales>
                                                <gauge:CircularScale StartAngle="135" SweepAngle="270"
                                                                   StartValue="0" EndValue="100"
                                                                   Interval="20" MinorTicksPerInterval="1"
                                                                   RimStroke="{StaticResource FluentDarkBorderBrush}" RimStrokeThickness="8"
                                                                   TickStroke="{StaticResource FluentDarkSecondaryTextBrush}" TickStrokeThickness="1"
                                                                   LabelStroke="Transparent">
                                                    <gauge:CircularScale.Pointers>
                                                        <gauge:CircularPointer NeedlePointerType="Triangle"
                                                                             PointerCapStroke="{StaticResource FluentDarkPrimaryBrush}"
                                                                             NeedlePointerStroke="{StaticResource FluentDarkPrimaryBrush}"
                                                                             Value="{Binding SystemPerformanceScore}"/>
                                                    </gauge:CircularScale.Pointers>
                                                    <gauge:CircularScale.Ranges>
                                                        <gauge:CircularRange StartValue="0" EndValue="50"
                                                                           Stroke="{StaticResource FluentDarkErrorBrush}" StrokeThickness="8"/>
                                                        <gauge:CircularRange StartValue="50" EndValue="75"
                                                                           Stroke="{StaticResource FluentDarkWarningBrush}" StrokeThickness="8"/>
                                                        <gauge:CircularRange StartValue="75" EndValue="100"
                                                                           Stroke="{StaticResource FluentDarkSuccessBrush}" StrokeThickness="8"/>
                                                    </gauge:CircularScale.Ranges>
                                                </gauge:CircularScale>
                                            </gauge:SfCircularGauge.Scales>
                                        </gauge:SfCircularGauge>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </UniformGrid>

                        <!-- Enhanced Operations Tiles Row 2 -->
                        <UniformGrid Grid.Row="1" Columns="3" Margin="0,0,0,20">
                            <!-- Enhanced Maintenance Tile with Syncfusion Progress -->
                            <Border x:Name="MaintenanceHubTile"
                                   Style="{StaticResource DashboardTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="ðŸ”§ Maintenance Hub" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#F39C12" DockPanel.Dock="Right" ToolTip="Maintenance Scheduled"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="60"/>
                                        </Grid.RowDefinitions>

                                        <StackPanel Grid.Row="0">
                                            <TextBlock Text="Pending Items: 3" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold"/>
                                            <TextBlock Text="Next Service: {Binding NextServiceBus}" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="Due: {Binding NextServiceDue}" Style="{StaticResource TileValueStyle}" FontSize="16" Foreground="#E74C3C"/>
                                        </StackPanel>

                                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,10">
                                            <Border Background="#2ECC71" CornerRadius="3" Padding="8,4" Margin="0,0,8,0">
                                                <TextBlock Text="2 Complete" Foreground="White" FontSize="12" FontWeight="SemiBold"/>
                                            </Border>
                                            <Border Background="#E74C3C" CornerRadius="3" Padding="8,4">
                                                <TextBlock Text="3 Pending" Foreground="White" FontSize="12" FontWeight="SemiBold"/>
                                            </Border>
                                        </StackPanel>

                                        <!-- Syncfusion Circular ProgressBar for Maintenance -->
                                        <syncfusion:SfCircularProgressBar Grid.Row="2"
                                                                        Width="55" Height="55"
                                                                        HorizontalAlignment="Center"
                                                                        Progress="{Binding MaintenanceCompletionPercentage}"
                                                                        Style="{StaticResource BusBuddySfCircularProgressBarStyle}"
                                                                        syncfusionskin:SfSkinManager.VisualStyle="FluentDark"
                                                                        FontSize="11"/>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Fuel Management Tile with Syncfusion ProgressBar -->
                            <Border x:Name="FuelManagementTile"
                                   Style="{StaticResource DashboardTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="â›½ Fuel Analytics" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#27AE60" DockPanel.Dock="Right" ToolTip="Fuel Efficiency Good"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="50"/>
                                        </Grid.RowDefinitions>

                                        <StackPanel Grid.Row="0">
                                            <TextBlock Text="Avg Consumption: 8.2L/100km" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="Avg Consumption: {Binding AverageFuelConsumption}" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="Monthly Budget: {Binding FuelBudgetUsedPercentage, StringFormat='{}{0}% used'}" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="Efficiency: {Binding FuelEfficiencyStatus}" Style="{StaticResource TileValueStyle}" FontSize="16" Foreground="#27AE60"/>
                                        </StackPanel>

                                        <!-- Fuel efficiency indicator -->
                                        <StackPanel Grid.Row="1" Margin="0,10,0,0">
                                            <TextBlock Text="Budget Utilization" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                            <!-- Syncfusion Linear ProgressBar -->
                                            <syncfusion:SfLinearProgressBar Height="12"
                                                                           Progress="{Binding FuelBudgetUsedPercentage}"
                                                                           Style="{StaticResource BusBuddySfLinearProgressBarStyle}"
                                                                           syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                                        </StackPanel>

                                        <!-- Efficiency Meter -->
                                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                                            <gauge:SfCircularGauge Width="40" Height="40" Margin="0,0,10,0" syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                                <gauge:SfCircularGauge.Scales>
                                                    <gauge:CircularScale StartAngle="135" SweepAngle="270"
                                                                       StartValue="0" EndValue="10"
                                                                       ShowLabels="False" ShowTicks="False"
                                                                       RimStroke="{StaticResource FluentDarkBorderBrush}" RimStrokeThickness="4">
                                                        <gauge:CircularScale.Pointers>
                                                            <gauge:CircularPointer NeedlePointerType="Triangle"
                                                                                 PointerCapStroke="{StaticResource FluentDarkSuccessBrush}"
                                                                                 NeedlePointerStroke="{StaticResource FluentDarkSuccessBrush}"
                                                                                 Value="{Binding AverageFuelConsumption}"/>
                                                        </gauge:CircularScale.Pointers>
                                                        <gauge:CircularScale.Ranges>
                                                            <gauge:CircularRange StartValue="0" EndValue="10"
                                                                               Stroke="{StaticResource FluentDarkSuccessBrush}" StrokeThickness="4"/>
                                                        </gauge:CircularScale.Ranges>
                                                    </gauge:CircularScale>
                                                </gauge:SfCircularGauge.Scales>
                                            </gauge:SfCircularGauge>
                                            <StackPanel VerticalAlignment="Center">
                                                <TextBlock Text="8.2 L/100km" FontSize="12" FontWeight="SemiBold" Foreground="#27AE60"/>
                                                <TextBlock Text="{Binding AverageFuelConsumption, StringFormat='{}{0} L/100km'}" FontSize="12" FontWeight="SemiBold" Foreground="#27AE60"/>
                                                <TextBlock Text="Efficiency" FontSize="10" Foreground="#666666"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Student Management Tile with Syncfusion Gauge -->
                            <Border x:Name="StudentTransportTile"
                                   Style="{StaticResource DashboardTileStyle}"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock Text="ðŸŽ“ Student Transport" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#9B59B6" DockPanel.Dock="Right" ToolTip="All Students Accounted"/>
                                    </DockPanel>
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Total Enrolled: {Binding TotalEnrolledStudents}" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="Active Today: {Binding ActiveStudentsToday}" Style="{StaticResource TileContentStyle}"/>
                                            <TextBlock Text="{Binding StudentCoverageStatus}" Style="{StaticResource TileContentStyle}"
                                                      FontWeight="SemiBold" Foreground="#27AE60" Margin="0,8,0,0"/>
                                        </StackPanel>

                                        <!-- Syncfusion Circular Gauge for Attendance -->
                                        <gauge:SfCircularGauge Grid.Column="1" Width="70" Height="70" Margin="10,0,0,0" syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                            <gauge:SfCircularGauge.Scales>
                                                <gauge:CircularScale StartAngle="135" SweepAngle="270"
                                                                   StartValue="0" EndValue="100"
                                                                   Interval="25" ShowTicks="False"
                                                                   ShowLabels="False"
                                                                   RimStroke="{StaticResource FluentDarkBorderBrush}" RimStrokeThickness="6">
                                                    <gauge:CircularScale.Pointers>
                                                        <gauge:CircularPointer NeedlePointerType="Triangle"
                                                                             PointerCapStroke="{StaticResource FluentDarkPurpleBrush}"
                                                                             NeedlePointerStroke="{StaticResource FluentDarkPurpleBrush}"
                                                                             Value="{Binding StudentAttendancePercentage}"/>
                                                    </gauge:CircularScale.Pointers>
                                                    <gauge:CircularScale.Ranges>
                                                        <gauge:CircularRange StartValue="0" EndValue="100"
                                                                           Stroke="{StaticResource FluentDarkPurpleBrush}" StrokeThickness="6"/>
                                                    </gauge:CircularScale.Ranges>
                                                </gauge:CircularScale>
                                            </gauge:SfCircularGauge.Scales>
                                            <gauge:SfCircularGauge.Annotations>
                                                <gauge:GaugeAnnotation>
                                                    <gauge:GaugeAnnotation.Content>
                                                        <StackPanel HorizontalAlignment="Center">
                                                            <TextBlock Text="95%" FontSize="14" FontWeight="Bold"
                                                                      Foreground="{StaticResource FluentDarkPurpleBrush}" HorizontalAlignment="Center"/>
                                                            <TextBlock Text="{Binding StudentAttendancePercentage, StringFormat='{}{0:F0}%'}" FontSize="9"
                                                                      Foreground="{StaticResource FluentDarkSecondaryTextBrush}" HorizontalAlignment="Center"/>
                                                        </StackPanel>
                                                    </gauge:GaugeAnnotation.Content>
                                                </gauge:GaugeAnnotation>
                                            </gauge:SfCircularGauge.Annotations>
                                        </gauge:SfCircularGauge>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </UniformGrid>

                        <!-- Enhanced Analytics Dashboard Row 3 -->
                        <Border Grid.Row="2" Style="{StaticResource DashboardTileStyle}" Margin="0,0,0,20">
                            <StackPanel>
                                <DockPanel Margin="0,0,0,20">
                                    <TextBlock Text="ðŸ“ˆ Analytics Dashboard" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                        <syncfusion:ComboBoxAdv x:Name="AnalyticsTimeRange"
                                                              Width="150" Height="30"
                                                              SelectedIndex="0"
                                                              SelectionChanged="AnalyticsFilterComboBox_SelectionChanged"
                                                              Style="{StaticResource BusBuddyComboBoxAdvStyle}"
                                                              syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                            <syncfusion:ComboBoxItemAdv Content="Last 7 Days"/>
                                            <syncfusion:ComboBoxItemAdv Content="Last 30 Days"/>
                                            <syncfusion:ComboBoxItemAdv Content="Last 3 Months"/>
                                            <syncfusion:ComboBoxItemAdv Content="This Year"/>
                                        </syncfusion:ComboBoxAdv>
                                        <syncfusion:ButtonAdv x:Name="RefreshAnalyticsButton"
                                                            Label="ðŸ”„ Refresh"
                                                            Width="80" Height="30"
                                                            Margin="10,0,0,0"
                                                            Click="RefreshAnalyticsButton_Click"
                                                            Style="{StaticResource BusBuddySecondaryButtonStyle}"
                                                            syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                                    </StackPanel>
                                </DockPanel>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Fleet Performance Trend Chart -->
                                    <Border Grid.Column="0" Background="#F8F9FA" CornerRadius="8" Padding="15" Margin="0,0,10,0">
                                        <StackPanel>
                                            <TextBlock Text="Fleet Performance Trend" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10" Foreground="#2C3E50"/>
                                            <chart:SfChart x:Name="FleetPerformanceChart"
                                                          Height="180"
                                                          MouseLeftButtonDown="Chart_MouseLeftButtonDown"
                                                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                                <chart:SfChart.PrimaryAxis>
                                                    <chart:CategoryAxis ShowGridLines="False"/>
                                                </chart:SfChart.PrimaryAxis>
                                                <chart:SfChart.SecondaryAxis>
                                                    <chart:NumericalAxis ShowGridLines="True"/>
                                                </chart:SfChart.SecondaryAxis>
                                                <chart:SfChart.Series>
                                                    <chart:SplineAreaSeries ItemsSource="{Binding FleetPerformanceData}"
                                                                          XBindingPath="Period"
                                                                          YBindingPath="Performance"
                                                                          StrokeThickness="2"
                                                                          Stroke="{StaticResource FluentDarkInfoBrush}">
                                                        <chart:SplineAreaSeries.Interior>
                                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                                <GradientStop Color="{StaticResource FluentDarkInfoColor}" Offset="0"/>
                                                                <GradientStop Color="{StaticResource FluentDarkPrimaryColor}" Offset="1"/>
                                                            </LinearGradientBrush>
                                                        </chart:SplineAreaSeries.Interior>
                                                    </chart:SplineAreaSeries>
                                                </chart:SfChart.Series>
                                            </chart:SfChart>
                                        </StackPanel>
                                    </Border>

                                    <!-- Route Efficiency Chart -->
                                    <Border Grid.Column="1" Background="#F8F9FA" CornerRadius="8" Padding="15" Margin="5,0">
                                        <StackPanel>
                                            <TextBlock Text="Route Efficiency Analysis" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10" Foreground="#2C3E50"/>
                                            <chart:SfChart x:Name="RouteEfficiencyChart"
                                                          Height="180"
                                                          MouseLeftButtonDown="Chart_MouseLeftButtonDown"
                                                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                                <chart:SfChart.PrimaryAxis>
                                                    <chart:CategoryAxis ShowGridLines="False"/>
                                                </chart:SfChart.PrimaryAxis>
                                                <chart:SfChart.SecondaryAxis>
                                                    <chart:NumericalAxis ShowGridLines="True"/>
                                                </chart:SfChart.SecondaryAxis>
                                                <chart:SfChart.Series>
                                                    <chart:ColumnSeries ItemsSource="{Binding RouteEfficiencyData}"
                                                                      XBindingPath="Route"
                                                                      YBindingPath="Efficiency">
                                                        <chart:ColumnSeries.Interior>
                                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                                <GradientStop Color="{StaticResource FluentDarkWarningColor}" Offset="0"/>
                                                                <GradientStop Color="{StaticResource FluentDarkPrimaryColor}" Offset="1"/>
                                                            </LinearGradientBrush>
                                                        </chart:ColumnSeries.Interior>
                                                    </chart:ColumnSeries>
                                                </chart:SfChart.Series>
                                            </chart:SfChart>
                                        </StackPanel>
                                    </Border>

                                    <!-- Resource Utilization Gauge -->
                                    <Border Grid.Column="2" Background="#F8F9FA" CornerRadius="8" Padding="15" Margin="10,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="Resource Utilization" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10" Foreground="#2C3E50"/>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Advanced Syncfusion Circular Gauge -->
                                                <gauge:SfCircularGauge Grid.Row="0" Width="150" Height="150" syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                                    <gauge:SfCircularGauge.Scales>
                                                        <gauge:CircularScale StartAngle="135" SweepAngle="270"
                                                                           StartValue="0" EndValue="100"
                                                                           Interval="10" MinorTicksPerInterval="1"
                                                                           RimStroke="{StaticResource FluentDarkBorderBrush}" RimStrokeThickness="10"
                                                                           TickStroke="{StaticResource FluentDarkSecondaryTextBrush}" TickStrokeThickness="1"
                                                                           LabelStroke="{StaticResource FluentDarkForegroundBrush}">
                                                            <gauge:CircularScale.Pointers>
                                                                <gauge:CircularPointer NeedlePointerType="Triangle"
                                                                                     PointerCapStroke="{StaticResource FluentDarkPurpleBrush}"
                                                                                     NeedlePointerStroke="{StaticResource FluentDarkPurpleBrush}"
                                                                                     Value="{Binding ResourceUtilizationPercentage}"/>
                                                            </gauge:CircularScale.Pointers>
                                                            <gauge:CircularScale.Ranges>
                                                                <gauge:CircularRange StartValue="0" EndValue="40"
                                                                                   Stroke="{StaticResource FluentDarkErrorBrush}" StrokeThickness="10"/>
                                                                <gauge:CircularRange StartValue="40" EndValue="70"
                                                                                   Stroke="{StaticResource FluentDarkWarningBrush}" StrokeThickness="10"/>
                                                                <gauge:CircularRange StartValue="70" EndValue="100"
                                                                                   Stroke="{StaticResource FluentDarkSuccessBrush}" StrokeThickness="10"/>
                                                            </gauge:CircularScale.Ranges>
                                                        </gauge:CircularScale>
                                                    </gauge:SfCircularGauge.Scales>
                                                    <gauge:SfCircularGauge.Annotations>
                                                        <gauge:GaugeAnnotation>
                                                            <gauge:GaugeAnnotation.Content>
                                                                <StackPanel HorizontalAlignment="Center">
                                                                    <TextBlock Text="78%" FontSize="20" FontWeight="Bold"
                                                                              Foreground="{StaticResource FluentDarkPurpleBrush}" HorizontalAlignment="Center"/>
                                                                    <TextBlock Text="{Binding ResourceUtilizationPercentage, StringFormat='{}{0:F0}%'}" FontSize="12"
                                                                              Foreground="{StaticResource FluentDarkSecondaryTextBrush}" HorizontalAlignment="Center"/>
                                                                </StackPanel>
                                                            </gauge:GaugeAnnotation.Content>
                                                        </gauge:GaugeAnnotation>
                                                    </gauge:SfCircularGauge.Annotations>
                                                </gauge:SfCircularGauge>

                                                <!-- Utilization Breakdown -->
                                                <StackPanel Grid.Row="1" Margin="0,10,0,0">
                                                    <DockPanel Margin="0,2">
                                                        <Ellipse Width="8" Height="8" Fill="{StaticResource FluentDarkSuccessBrush}" VerticalAlignment="Center" DockPanel.Dock="Left"/>
                                                        <TextBlock Text="Optimal: 45%" Style="{StaticResource TileContentStyle}"
                                                                  FontSize="11" Margin="8,0,0,0" DockPanel.Dock="Left"/>
                                                    </DockPanel>
                                                    <DockPanel Margin="0,2">
                                                        <Ellipse Width="8" Height="8" Fill="{StaticResource FluentDarkWarningBrush}" VerticalAlignment="Center" DockPanel.Dock="Left"/>
                                                        <TextBlock Text="Moderate: 33%" Style="{StaticResource TileContentStyle}"
                                                                  FontSize="11" Margin="8,0,0,0" DockPanel.Dock="Left"/>
                                                    </DockPanel>
                                                    <DockPanel Margin="0,2">
                                                        <Ellipse Width="8" Height="8" Fill="{StaticResource FluentDarkErrorBrush}" VerticalAlignment="Center" DockPanel.Dock="Left"/>
                                                        <TextBlock Text="Critical: 22%" Style="{StaticResource TileContentStyle}"
                                                                  FontSize="11" Margin="8,0,0,0" DockPanel.Dock="Left"/>
                                                    </DockPanel>
                                                </StackPanel>
                                            </Grid>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Enhanced System Status & Real-time Monitoring Row 4 -->
                        <Border Grid.Row="3" Style="{StaticResource DashboardTileStyle}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- System Health Column -->
                                <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                    <DockPanel Margin="0,0,0,15">
                                        <TextBlock Text="ðŸ“Š System Health" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#2ECC71" DockPanel.Dock="Right" ToolTip="All Systems Operational"/>
                                    </DockPanel>

                                    <StackPanel>
                                        <DockPanel Margin="0,0,0,8">
                                            <TextBlock Text="Database:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Left"/>
                                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                                <Ellipse Width="8" Height="8" Fill="#2ECC71" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                                <TextBlock Text="Connected" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold" Foreground="#2ECC71"/>
                                            </StackPanel>
                                        </DockPanel>

                                        <DockPanel Margin="0,0,0,8">
                                            <TextBlock Text="Services:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Left"/>
                                            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                                                <Ellipse Width="8" Height="8" Fill="#2ECC71" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                                <TextBlock Text="Online" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold" Foreground="#2ECC71"/>
                                            </StackPanel>
                                        </DockPanel>

                                        <DockPanel Margin="0,0,0,8">
                                            <TextBlock Text="Last Sync:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Left"/>
                                            <TextBlock Text="2 mins ago" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold" Foreground="#3498DB" DockPanel.Dock="Right"/>
                                        </DockPanel>

                                        <!-- System Performance Gauge -->
                                        <DockPanel Margin="0,15,0,0">
                                            <TextBlock Text="Performance:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Top" Margin="0,0,0,10"/>
                                            <Border Background="#ECF0F1"
                                                   CornerRadius="4"
                                                   Height="8">
                                                <Grid>
                                                    <Border Background="#2ECC71"
                                                           CornerRadius="4"
                                                           Width="180"
                                                           HorizontalAlignment="Left"/>
                                                    <TextBlock Text="92% Optimal"
                                                              FontSize="10"
                                                              FontWeight="SemiBold"
                                                              Foreground="White"
                                                              HorizontalAlignment="Center"
                                                              VerticalAlignment="Center"/>
                                                </Grid>
                                            </Border>
                                        </DockPanel>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Real-time Updates Column -->
                                <StackPanel Grid.Column="1" Margin="20,0">
                                    <DockPanel Margin="0,0,0,15">
                                        <TextBlock Text="ðŸ”„ Live Dashboard" Style="{StaticResource TileHeaderStyle}" DockPanel.Dock="Left"/>
                                        <Ellipse Style="{StaticResource StatusIndicatorStyle}" Fill="#3498DB" DockPanel.Dock="Right" ToolTip="Auto-refresh Active">
                                            <Ellipse.RenderTransform>
                                                <RotateTransform x:Name="RefreshRotate" CenterX="6" CenterY="6"/>
                                            </Ellipse.RenderTransform>
                                            <Ellipse.Triggers>
                                                <EventTrigger RoutedEvent="Loaded">
                                                    <BeginStoryboard>
                                                        <Storyboard RepeatBehavior="Forever">
                                                            <DoubleAnimation Storyboard.TargetName="RefreshRotate"
                                                                           Storyboard.TargetProperty="Angle"
                                                                           From="0" To="360" Duration="0:0:3"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </EventTrigger>
                                            </Ellipse.Triggers>
                                        </Ellipse>
                                    </DockPanel>

                                    <StackPanel>
                                        <DockPanel Margin="0,0,0,8">
                                            <TextBlock Text="Auto-refresh:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Left"/>
                                            <TextBlock Text="Enabled" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold" Foreground="#2ECC71" DockPanel.Dock="Right"/>
                                        </DockPanel>

                                        <DockPanel Margin="0,0,0,8">
                                            <TextBlock Text="Update Interval:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Left"/>
                                            <TextBlock Text="5 seconds" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold" Foreground="#3498DB" DockPanel.Dock="Right"/>
                                        </DockPanel>

                                        <DockPanel Margin="0,0,0,8">
                                            <TextBlock Text="Next Update:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Left"/>
                                            <TextBlock Text="{Binding NextUpdateTime}" Style="{StaticResource TileContentStyle}" FontWeight="SemiBold" Foreground="#E67E22" DockPanel.Dock="Right"/>
                                        </DockPanel>

                                        <!-- Refresh countdown indicator -->
                                        <DockPanel Margin="0,15,0,0">
                                            <TextBlock Text="Refresh Status:" Style="{StaticResource TileContentStyle}" DockPanel.Dock="Top" Margin="0,0,0,10"/>
                                            <!-- Simple circular indicator -->
                                            <Border Background="#ECF0F1"
                                                   CornerRadius="20"
                                                   Width="40" Height="40"
                                                   HorizontalAlignment="Center">
                                                <Grid>
                                                    <Ellipse Width="32" Height="32"
                                                            Stroke="#3498DB"
                                                            StrokeThickness="3"
                                                            StrokeDashArray="2.5,1">
                                                        <Ellipse.RenderTransform>
                                                            <RotateTransform x:Name="LiveIndicator" CenterX="16" CenterY="16"/>
                                                        </Ellipse.RenderTransform>
                                                        <Ellipse.Triggers>
                                                            <EventTrigger RoutedEvent="Loaded">
                                                                <BeginStoryboard>
                                                                    <Storyboard RepeatBehavior="Forever">
                                                                        <DoubleAnimation Storyboard.TargetName="LiveIndicator"
                                                                                       Storyboard.TargetProperty="Angle"
                                                                                       From="0" To="360" Duration="0:0:2"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                        </Ellipse.Triggers>
                                                    </Ellipse>
                                                    <TextBlock Text="LIVE"
                                                              FontSize="10"
                                                              FontWeight="Bold"
                                                              Foreground="#3498DB"
                                                              HorizontalAlignment="Center"
                                                              VerticalAlignment="Center"/>
                                                </Grid>
                                            </Border>
                                        </DockPanel>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Quick Actions Column -->
                                <StackPanel Grid.Column="2" Margin="20,0,0,0">
                                    <TextBlock Text="âš¡ Quick Actions" Style="{StaticResource TileHeaderStyle}" Margin="0,0,0,15"/>

                                    <StackPanel>
                                        <Border Background="{StaticResource FluentDarkInfoBrush}"
                                               CornerRadius="6"
                                               Margin="0,0,0,10">
                                            <syncfusion:ButtonAdv x:Name="RefreshDataButton"
                                                   Label="ðŸ”„ Refresh Data"
                                                   Background="Transparent"
                                                   Foreground="{StaticResource FluentDarkForegroundBrush}"
                                                   BorderThickness="0"
                                                   Padding="12,8"
                                                   FontWeight="SemiBold"
                                                   Cursor="Hand"
                                                   Click="RefreshDataButton_Click"
                                                   syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                                        </Border>

                                        <Border Background="{StaticResource FluentDarkPurpleBrush}"
                                               CornerRadius="6"
                                               Margin="0,0,0,10">
                                            <syncfusion:ButtonAdv x:Name="ViewReportsButton"
                                                   Label="ðŸ“Š View Reports"
                                                   Background="Transparent"
                                                   Foreground="{StaticResource FluentDarkForegroundBrush}"
                                                   BorderThickness="0"
                                                   Padding="12,8"
                                                   FontWeight="SemiBold"
                                                   Cursor="Hand"
                                                   Click="ViewReportsButton_Click"
                                                   syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                                        </Border>

                                        <Border Background="{StaticResource FluentDarkBackgroundBrush}"
                                               CornerRadius="6"
                                               Margin="0,0,0,10">
                                            <syncfusion:ButtonAdv x:Name="DashboardSettingsButton"
                                                   Label="âš™ï¸ Settings"
                                                   Background="Transparent"
                                                   Foreground="{StaticResource FluentDarkForegroundBrush}"
                                                   BorderThickness="0"
                                                   Padding="12,8"
                                                   FontWeight="SemiBold"
                                                   Cursor="Hand"
                                                   Click="SettingsButton_Click"
                                                   syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                                        </Border>

                                        <!-- System uptime indicator -->
                                        <Border CornerRadius="6"
                                               BorderBrush="#27AE60"
                                               BorderThickness="1"
                                               Padding="10"
                                               Margin="0,15,0,0">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                    <GradientStop Color="#E8F6F3" Offset="0"/>
                                                    <GradientStop Color="#D5F4E6" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <StackPanel>
                                                <TextBlock Text="System Uptime" FontSize="12" FontWeight="SemiBold" Foreground="#27AE60" HorizontalAlignment="Center"/>
                                                <TextBlock Text="99.8%" FontSize="18" FontWeight="Bold" Foreground="#27AE60" HorizontalAlignment="Center"/>
                                                <TextBlock Text="Excellent" FontSize="10" Foreground="#27AE60" HorizontalAlignment="Center"/>
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                </ScrollViewer>
            </ContentControl>

            <!-- Bus Management Panel (Docked Right) -->
            <ContentControl x:Name="BusManagement"
                          syncfusion:DockingManager.Header="Bus Management"
                          syncfusion:DockingManager.State="Dock"
                          syncfusion:DockingManager.SideInDockedMode="Right"
                          syncfusion:DockingManager.DesiredWidthInDockedMode="350"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Content="{Binding BusManagementViewModel, FallbackValue={x:Null}}"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>

            <!-- Driver Management Panel (Docked Left) -->
            <ContentControl x:Name="DriverManagement"
                          syncfusion:DockingManager.Header="Driver Management"
                          syncfusion:DockingManager.State="Dock"
                          syncfusion:DockingManager.SideInDockedMode="Left"
                          syncfusion:DockingManager.DesiredWidthInDockedMode="300"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Content="{Binding DriverManagementViewModel, FallbackValue={x:Null}}"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>

            <!-- Route Management Panel (Document Tab) -->
            <ContentControl x:Name="RouteManagement"
                          syncfusion:DockingManager.Header="Route Management"
                          syncfusion:DockingManager.State="Document"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Content="{Binding RouteManagementViewModel, FallbackValue={x:Null}}"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>

            <!-- Schedule Management Panel (Auto Hidden) -->
            <ContentControl x:Name="ScheduleManagement"
                          syncfusion:DockingManager.Header="Schedule Management"
                          syncfusion:DockingManager.State="AutoHidden"
                          syncfusion:DockingManager.SideInDockedMode="Bottom"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <ContentControl Content="{Binding ScheduleManagementViewModel, FallbackValue={x:Null}}"
                               Margin="10"
                               HorizontalAlignment="Stretch"
                               VerticalAlignment="Stretch"/>
            </ContentControl>

            <!-- Student Management Panel (Docked Bottom) -->
            <ContentControl x:Name="StudentManagement"
                          syncfusion:DockingManager.Header="Student Management"
                          syncfusion:DockingManager.State="Dock"
                          syncfusion:DockingManager.SideInDockedMode="Bottom"
                          syncfusion:DockingManager.DesiredHeightInDockedMode="200"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <ContentControl Content="{Binding StudentManagementViewModel, FallbackValue={x:Null}}"
                               Margin="10"
                               HorizontalAlignment="Stretch"
                               VerticalAlignment="Stretch"/>
            </ContentControl>

            <!-- Maintenance Tracking Panel (Tabbed with Student Management) -->
            <ContentControl x:Name="MaintenanceTracking"
                          syncfusion:DockingManager.Header="Maintenance Tracking"
                          syncfusion:DockingManager.State="Dock"
                          syncfusion:DockingManager.SideInDockedMode="Tabbed"
                          syncfusion:DockingManager.TargetNameInDockedMode="StudentManagement"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <ContentControl Content="{Binding MaintenanceTrackingViewModel, FallbackValue={x:Null}}"
                               Margin="10"
                               HorizontalAlignment="Stretch"
                               VerticalAlignment="Stretch"/>
            </ContentControl>

            <!-- Fuel Management Panel (Float) -->
            <ContentControl x:Name="FuelManagement"
                          syncfusion:DockingManager.Header="Fuel Management"
                          syncfusion:DockingManager.State="Float"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <ContentControl Content="{Binding FuelManagementViewModel, FallbackValue={x:Null}}"
                               Margin="10"
                               HorizontalAlignment="Stretch"
                               VerticalAlignment="Stretch"/>
            </ContentControl>

            <!-- Activity Logging Panel (Auto Hidden) -->
            <ContentControl x:Name="ActivityLogging"
                          syncfusion:DockingManager.Header="Activity Logging"
                          syncfusion:DockingManager.State="AutoHidden"
                          syncfusion:DockingManager.SideInDockedMode="Right"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <ContentControl Content="{Binding ActivityLogViewModel, FallbackValue={x:Null}}"
                               Margin="10"
                               HorizontalAlignment="Stretch"
                               VerticalAlignment="Stretch"/>
            </ContentControl>

            <!-- System Loading Panel (Auto Hidden) â€” NEWLY INTEGRATED -->
            <ContentControl x:Name="SystemLoadingPanel"
                          syncfusion:DockingManager.Header="âš¡ System Loading"
                          syncfusion:DockingManager.State="AutoHidden"
                          syncfusion:DockingManager.SideInDockedMode="Bottom"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <views:LoadingView DataContext="{Binding LoadingViewModel, FallbackValue={x:Null}}"
                                  Margin="10"
                                  HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"/>
            </ContentControl>

            <!-- ðŸ¤– XAI Chat Panel (Right Docked) â€” NEW ENHANCEMENT -->
            <ContentControl x:Name="XAIChatPanel"
                          syncfusion:DockingManager.Header="ðŸ¤– XAI Assistant"
                          syncfusion:DockingManager.State="Dock"
                          syncfusion:DockingManager.SideInDockedMode="Right"
                          syncfusion:DockingManager.DesiredWidthInDockedMode="320"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Chat Header -->
                    <Border Grid.Row="0" Background="#2C3E50" CornerRadius="8,8,0,0" Padding="15,10" Margin="0,0,0,5">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ¤–" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="Bus Buddy AI Assistant" FontWeight="SemiBold" Foreground="White" VerticalAlignment="Center"/>
                            <Border Background="#27AE60" CornerRadius="6" Padding="6,2" Margin="10,0,0,0">
                                <TextBlock Text="ONLINE" FontSize="10" FontWeight="Bold" Foreground="White"/>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- Chat Control â€” Using RichTextBox instead of non-existent SfChat -->
                    <Border Grid.Row="1" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="0,0,8,8">
                        <Grid Margin="5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Chat Messages Display -->
                            <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                                <RichTextBox x:Name="ChatMessagesBox"
                                           IsReadOnly="True"
                                           BorderThickness="0"
                                           Background="Transparent">
                                    <FlowDocument>
                                        <Paragraph>
                                            <Run Text="ðŸ¤– XAI Assistant: Hello! I'm your Bus Buddy AI Assistant. Ask me about fleet status, routes, maintenance, or anything else!"
                                                 Foreground="#2C3E50" FontWeight="SemiBold"/>
                                        </Paragraph>
                                        <Paragraph>
                                            <Run Text="ðŸ“Š Quick tip: Try asking about 'fleet status' or 'route efficiency'"
                                                 Foreground="#7F8C8D"/>
                                        </Paragraph>
                                    </FlowDocument>
                                </RichTextBox>
                            </ScrollViewer>

                            <!-- Chat Input -->
                            <DockPanel Grid.Row="1" Margin="0,5,0,0">
                                <syncfusion:ButtonAdv DockPanel.Dock="Right"
                                                    Content="Send"
                                                    Width="50"
                                                    Background="#3498DB"
                                                    Foreground="White"
                                                    BorderThickness="0"
                                                    CornerRadius="4"
                                                    Margin="5,0,0,0"/>
                                <TextBox x:Name="ChatInputBox"
                                       Padding="8"
                                       Text="Type your question here..."
                                       BorderBrush="#BDC3C7"
                                       BorderThickness="1"/>
                            </DockPanel>
                        </Grid>
                    </Border>

                    <!-- Quick Actions -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,10,0,0">
                        <syncfusion:ButtonAdv Label="Fleet Status"
                                            Background="{StaticResource FluentDarkInfoBrush}"
                                            Foreground="{StaticResource FluentDarkForegroundBrush}"
                                            BorderThickness="0"
                                            CornerRadius="4"
                                            Padding="8,4"
                                            FontSize="10"
                                            Margin="0,0,5,0"
                                            syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                        <syncfusion:ButtonAdv Label="Route Info"
                                            Background="{StaticResource FluentDarkWarningBrush}"
                                            Foreground="{StaticResource FluentDarkForegroundBrush}"
                                            BorderThickness="0"
                                            CornerRadius="4"
                                            Padding="8,4"
                                            FontSize="10"
                                            Margin="0,0,5,0"
                                            syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                        <syncfusion:ButtonAdv Label="Maintenance"
                                            Background="{StaticResource FluentDarkPurpleBrush}"
                                            Foreground="{StaticResource FluentDarkForegroundBrush}"
                                            BorderThickness="0"
                                            CornerRadius="4"
                                            Padding="8,4"
                                            FontSize="10"
                                            syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                    </StackPanel>
                </Grid>
            </ContentControl>

            <!-- ðŸŒ Google Earth Engine Panel (Floating) â€” NEW ENHANCEMENT -->
            <ContentControl x:Name="EarthEnginePanel"
                          syncfusion:DockingManager.Header="ðŸŒ Earth Engine Maps"
                          syncfusion:DockingManager.State="Float"
                          syncfusion:DockingManager.DesiredWidthInFloatingMode="600"
                          syncfusion:DockingManager.DesiredHeightInFloatingMode="450"
                          syncfusion:DockingManager.CanSerialize="True"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Map Header with Controls -->
                    <Border Grid.Row="0" Background="#34495E" CornerRadius="8,8,0,0" Padding="15,10" Margin="0,0,0,5">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal">
                                <TextBlock Text="ðŸŒ" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="Route &amp; Fleet Mapping" FontWeight="SemiBold" Foreground="White" VerticalAlignment="Center"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <syncfusion:ComboBoxAdv Width="120" Height="25" SelectedIndex="0" Margin="0,0,10,0"
                                               Style="{StaticResource BusBuddyComboBoxAdvStyle}"
                                               syncfusionskin:SfSkinManager.VisualStyle="FluentDark">
                                    <syncfusion:ComboBoxItemAdv Content="Satellite"/>
                                    <syncfusion:ComboBoxItemAdv Content="Terrain"/>
                                    <syncfusion:ComboBoxItemAdv Content="Roadmap"/>
                                    <syncfusion:ComboBoxItemAdv Content="Hybrid"/>
                                </syncfusion:ComboBoxAdv>
                                <syncfusion:ButtonAdv Label="ðŸ”„" Width="25" Height="25" ToolTip="Refresh Map"
                                               Style="{StaticResource BusBuddyIconButtonStyle}"
                                               syncfusionskin:SfSkinManager.VisualStyle="FluentDark"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Map Control Placeholder -->
                    <Border Grid.Row="1" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="0,0,8,8">
                        <Grid Background="#F8F9FA">
                            <TextBlock Text="ðŸŒ Google Earth Engine Maps"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"
                                     FontSize="16"
                                     Foreground="#6C757D"/>
                            <TextBlock Text="Map integration coming soon..."
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"
                                     Margin="0,30,0,0"
                                     FontSize="12"
                                     Foreground="#ADB5BD"/>
                        </Grid>
                    </Border>

                    <!-- Map Legend and Status -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,10,0,0">
                        <Border Background="#2ECC71" Width="12" Height="12" CornerRadius="6" VerticalAlignment="Center"/>
                        <TextBlock Text="Active Routes" FontSize="11" Margin="5,0,15,0" VerticalAlignment="Center"/>
                        <Border Background="#E74C3C" Width="12" Height="12" CornerRadius="6" VerticalAlignment="Center"/>
                        <TextBlock Text="Maintenance Routes" FontSize="11" Margin="5,0,15,0" VerticalAlignment="Center"/>
                        <Border Background="#F39C12" Width="12" Height="12" CornerRadius="6" VerticalAlignment="Center"/>
                        <TextBlock Text="Bus Locations" FontSize="11" Margin="5,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </ContentControl>
            </syncfusion:DockingManager>
        </Grid>
    </Grid>
</UserControl>
