<UserControl x:Class="BusBuddy.WPF.Views.Dashboard.EnhancedDashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:s ys="clr-namespace:System;a ssembly=mscorlib"
             xmlns:local="clr-namespace:BusBuddy.WPF.Views.Dashboard"
             xmlns:viewModels="clr-namespace:BusBuddy.WPF.ViewModels"
             xmlns:scheduleViewModels="clr-namespace:BusBuddy.WPF.ViewModels.Schedule"
             xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
             xmlns:syncfusionskin="clr-namespace:Syncfusion.SfSkinManager;a ssembly=Syncfusion.SfSkinManager.WPF"
             xmlns:busView="clr-namespace:BusBuddy.WPF.Views.Bus"
             xmlns:driverView="clr-namespace:BusBuddy.WPF.Views.Driver"
             xmlns:routeView="clr-namespace:BusBuddy.WPF.Views.Route"
             xmlns:scheduleView="clr-namespace:BusBuddy.WPF.Views.Schedule"
             xmlns:studentView="clr-namespace:BusBuddy.WPF.Views.Student"
             xmlns:maintenanceView="clr-namespace:BusBuddy.WPF.Views.Maintenance"
             xmlns:fuelView="clr-namespace:BusBuddy.WPF.Views.Fuel"
             xmlns:activityView="clr-namespace:BusBuddy.WPF.Views.Activity"
             xmlns:views="clr-namespace:BusBuddy.WPF.Views"
             mc:I gnorable="d"
             d:D esignHeight="800" d:D esignWidth="1200"
             d:D ataContext="{d:DesignInstance viewModels:DashboardViewModel}">

    <UserControl.Resources>
        <!-- DataTemplates have been moved to App.xaml for global availability -->
        <!-- Dashboard styles have been moved to global CustomStyles.xaml. -->
        <!-- All DashboardTileStyle, TileHeaderStyle, TileContentStyle, TileValueStyle, -->
        <!-- StatusIndicatorStyle, and PerformanceTileStyle are now global resources. -->
    </UserControl.Resources>

    <Grid B ackground="{DynamicResource SurfaceBrush}">
        <Grid.RowDefinitions>
            <RowDefinition H eight="Auto"/>
            <RowDefinition H eight="Auto"/>
            <RowDefinition H eight="*"/>
        </Grid.RowDefinitions>

        <!-- Professional Header with Status -->
        <Border Grid.R ow="0"
                B ackground="{DynamicResource BrandPrimaryBrush}"
                P adding="24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition W idth="*"/>
                    <ColumnDefinition W idth="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.C olumn="0" O rientation="Horizontal">
                    <Border B ackground="{DynamicResource BrandSchoolBusYellowBrush}"
                            W idth="48" H eight="48"
                            C ornerRadius="12"
                            M argin="0,0,16,0">
                        <TextBlock T ext="🚌"
                                  F ontSize="24"
                                  H orizontalAlignment="Center"
                                  V erticalAlignment="Center"/>
                    </Border>

                    <StackPanel V erticalAlignment="Center">
                        <TextBlock T ext="Fleet Command Center"
                                  F ontSize="28"
                                  F ontWeight="Bold"
                                  F oreground="{DynamicResource ProfessionalTextPrimary}"/>
                        <TextBlock T ext="Real-time Transportation Management Dashboard"
                                  F ontSize="14"
                                  F oreground="{DynamicResource ProfessionalTextSecondary}"
                                  M argin="0,4,0,0"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.C olumn="1" O rientation="Horizontal" V erticalAlignment="Center">
                    <Border B ackground="{DynamicResource BrandFleetGreenBrush}"
                            C ornerRadius="16"
                            P adding="12,6"
                            M argin="8,0">
                        <StackPanel O rientation="Horizontal">
                            <Ellipse W idth="10" H eight="10"
                                    F ill="{DynamicResource ProfessionalTextPrimary}"
                                    V erticalAlignment="Center"
                                    M argin="0,0,8,0">
                                <Ellipse.Style>
                                    <Style T argetType="Ellipse">
                                        <Style.Triggers>
                                            <EventTrigger R outedEvent=" Loaded">
                                                <BeginStoryboard>
                                                    <Storyboard R epeatBehavior="Forever">
                                                        <DoubleAnimation Storyboard.T argetProperty="Opacity"
                                                                        F rom="1.0" To="0.3" D uration="0:0:1"
                                                                        A utoReverse="True"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Ellipse.Style>
                            </Ellipse>
                            <TextBlock T ext="All Systems Operational"
                                      F ontSize="12"
                                      F ontWeight="SemiBold"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>
                        </StackPanel>
                    </Border>

                    <TextBlock T ext="{Binding LastUpdateTime, S tringFormat='Last Updated: {0:HH:mm:ss}'}"
                              F ontSize="11"
                              F oreground="{DynamicResource ProfessionalTextSecondary}"
                              V erticalAlignment="Center"
                              M argin="16,0,0,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Professional Quick Actions Bar -->
        <Border Grid.R ow="1"
                B ackground="{DynamicResource ProfessionalSurfaceLight}"
                P adding="24,12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition W idth="*"/>
                    <ColumnDefinition W idth="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.C olumn="0" O rientation="Horizontal">
                    <TextBlock T ext="Quick Actions"
                              F ontSize="16"
                              F ontWeight="SemiBold"
                              F oreground="{DynamicResource ProfessionalTextPrimary}"
                              V erticalAlignment="Center"
                              M argin="0,0,20,0"/>

                    <syncfusion:ButtonAdv C ontent="🚨 Emergency Alert"
                                        S tyle="{StaticResource EmergencyButtonAdvStyle}"
                                        M argin="8,0"/>
                    <syncfusion:ButtonAdv C ontent="📊 Generate Report"
                                        S tyle="{StaticResource PrimaryButtonAdvStyle}"
                                        M argin="8,0"/>
                    <syncfusion:ButtonAdv C ontent=" Quick Maintenance"
                                        S tyle="{StaticResource SafetyButtonAdvStyle}"
                                        M argin="8,0"/>
                    <syncfusion:ButtonAdv C ontent=" Student Roster"
                                        S tyle="{StaticResource FleetSuccessButtonAdvStyle}"
                                        M argin="8,0"/>
                </StackPanel>

                <StackPanel Grid.C olumn="1" O rientation="Horizontal" V erticalAlignment="Center">
                    <syncfusion:ButtonAdv C ontent=""
                                        S tyle="{StaticResource IconButtonAdvStyle}"
                                        T oolTip="Refresh Data"
                                        C ommand="{Binding RefreshCommand}"
                                        M argin="4,0"/>
                    <syncfusion:ButtonAdv C ontent=""
                                        S tyle="{StaticResource IconButtonAdvStyle}"
                                        T oolTip="Dashboard Settings"
                                        M argin="4,0"/>
                    <syncfusion:ButtonAdv C ontent=""
                                        S tyle="{StaticResource IconButtonAdvStyle}"
                                        T oolTip="Export Dashboard"
                                        M argin="4,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Professional Dashboard Content -->
        <ScrollViewer Grid.R ow="2"
                      V erticalScrollBarVisibility="Auto"
                      H orizontalScrollBarVisibility="Disabled"
                      P adding="24,16">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition H eight="Auto"/>   <!-- KPI Cards Row -->
                    <RowDefinition H eight="Auto"/>   <!-- Operations Row -->
                    <RowDefinition H eight="Auto"/>   <!-- Live Dashboard Row -->
                    <RowDefinition H eight="*"/>     <!-- Future Content Row -->
                </Grid.RowDefinitions>

                <!-- Professional KPI Cards Row -->
                <UniformGrid Grid.R ow="0"
                            R ows="1"
                            C olumns="4"
                            M argin="0,0,0,20">

                    <!-- Active Buses KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandPrimaryBrush}"
                            M argin="0,0,10,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="Active Buses"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>

                            <TextBlock Grid.R ow="1"
                                      T ext="{Binding ActiveBuses, F allbackValue='24'}"
                                      F ontSize="48"
                                      F ontWeight="Bold"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"
                                      H orizontalAlignment="Center"
                                      V erticalAlignment="Center"/>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="🚌" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Fleet Status: Operational"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Routes Active KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandFleetGreenBrush}"
                            M argin="5,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="Active Routes"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>

                            <TextBlock Grid.R ow="1"
                                      T ext="{Binding ActiveRoutes, F allbackValue='18'}"
                                      F ontSize="48"
                                      F ontWeight="Bold"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"
                                      H orizontalAlignment="Center"
                                      V erticalAlignment="Center"/>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="🗺️" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Route Coverage: 95%"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Students Transported KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandSchoolBusYellowBrush}"
                            M argin="5,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="Students Today"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="#1E1E1E"/>

                            <TextBlock Grid.R ow="1"
                                      T ext="{Binding StudentsTransported, F allbackValue='1,247'}"
                                      F ontSize="48"
                                      F ontWeight="Bold"
                                      F oreground="#1E1E1E"
                                      H orizontalAlignment="Center"
                                      V erticalAlignment="Center"/>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="👨‍🎓" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Attendance: 98.3%"
                                          F ontSize="12"
                                          F oreground="#2D2D30"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Safety Score KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandSafetyOrangeBrush}"
                            M argin="10,0,0,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="Safety Score"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>

                            <TextBlock Grid.R ow="1"
                                      T ext="{Binding SafetyScore, F allbackValue='A+'}"
                                      F ontSize="48"
                                      F ontWeight="Bold"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"
                                      H orizontalAlignment="Center"
                                      V erticalAlignment="Center"/>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="🛡️" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Zero Incidents: 45 days"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </UniformGrid>

                <!-- Professional Operations Dashboard Row 2 -->
                <UniformGrid Grid.R ow="1"
                            R ows="1"
                            C olumns="3"
                            M argin="0,0,0,20">

                    <!-- Maintenance Status KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandSafetyOrangeBrush}"
                            M argin="0,0,10,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="Maintenance Status"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>

                            <TextBlock Grid.R ow="1"
                                      T ext="✅ Current"
                                      F ontSize="32"
                                      F ontWeight="Bold"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"
                                      H orizontalAlignment="Center"
                                      V erticalAlignment="Center"/>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="🔧" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Next Service: 3 days"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Fuel Efficiency KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandFleetGreenBrush}"
                            M argin="5,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="Fuel Efficiency"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>

                            <TextBlock Grid.R ow="1"
                                      T ext="8.2L/100km"
                                      F ontSize="28"
                                      F ontWeight="Bold"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"
                                      H orizontalAlignment="Center"
                                      V erticalAlignment="Center"/>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="⛽" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Excellent Rating"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- System Status KPI -->
                    <Border S tyle="{StaticResource DashboardTileStyle}"
                            B ackground="{DynamicResource BrandPrimaryBrush}"
                            M argin="10,0,0,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="Auto"/>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.R ow="0"
                                      T ext="System Status"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"/>

                            <StackPanel Grid.R ow="1"
                                       H orizontalAlignment="Center"
                                       V erticalAlignment="Center">
                                <Ellipse W idth="8" H eight="8"
                                        F ill="#2ECC71"
                                        H orizontalAlignment="Center"
                                        M argin="0,0,0,8">
                                    <Ellipse.RenderTransform>
                                        <ScaleTransform x:N ame="PulseTransform" S caleX="1" S caleY="1" C enterX="4" C enterY="4"/>
                                    </Ellipse.RenderTransform>
                                    <Ellipse.Triggers>
                                        <EventTrigger R outedEvent=" Loaded">
                                            <BeginStoryboard>
                                                <Storyboard R epeatBehavior="Forever">
                                                    <DoubleAnimationUsingKeyFrames Storyboard.T argetName="PulseTransform" Storyboard.T argetProperty="ScaleX">
                                                        <EasingDoubleKeyFrame K eyTime="0:0:0" V alue="1"/>
                                                        <EasingDoubleKeyFrame K eyTime="0:0:0.5" V alue="1.3"/>
                                                        <EasingDoubleKeyFrame K eyTime="0:0:1" V alue="1"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                    <DoubleAnimationUsingKeyFrames Storyboard.T argetName="PulseTransform" Storyboard.T argetProperty="ScaleY">
                                                        <EasingDoubleKeyFrame K eyTime="0:0:0" V alue="1"/>
                                                        <EasingDoubleKeyFrame K eyTime="0:0:0.5" V alue="1.3"/>
                                                        <EasingDoubleKeyFrame K eyTime="0:0:1" V alue="1"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Ellipse.Triggers>
                                </Ellipse>
                                <TextBlock T ext="ALL SYSTEMS"
                                          F ontSize="18"
                                          F ontWeight="Bold"
                                          F oreground="{DynamicResource ProfessionalTextPrimary}"
                                          H orizontalAlignment="Center"/>
                                <TextBlock T ext="OPERATIONAL"
                                          F ontSize="16"
                                          F ontWeight="Bold"
                                          F oreground="{DynamicResource ProfessionalTextPrimary}"
                                          H orizontalAlignment="Center"/>
                            </StackPanel>

                            <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center">
                                <TextBlock T ext="⚡" F ontSize="16" M argin="0,0,8,0"/>
                                <TextBlock T ext="Performance: 98%"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </UniformGrid>

                <!-- Enhanced Real-time Dashboard Row 3 -->
                <Border Grid.R ow="2"
                        S tyle="{StaticResource DashboardTileStyle}"
                        B ackground="{DynamicResource ProfessionalSurfaceDark}"
                        M argin="0,0,0,20">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition W idth="*"/>
                            <ColumnDefinition W idth="Auto"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.C olumn="0">
                            <TextBlock T ext="🔴 LIVE Dashboard"
                                      S tyle="{StaticResource TileHeaderStyle}"
                                      F oreground="{DynamicResource ProfessionalTextPrimary}"
                                      M argin="0,0,0,16"/>

                            <StackPanel O rientation="Horizontal" M argin="0,0,0,12">
                                <Border B ackground="{DynamicResource BrandFleetGreenBrush}"
                                        C ornerRadius="12"
                                        P adding="8,4"
                                        M argin="0,0,12,0">
                                    <StackPanel O rientation="Horizontal">
                                        <Ellipse W idth="8" H eight="8"
                                                F ill="#FFFFFF"
                                                V erticalAlignment="Center"
                                                M argin="0,0,6,0">
                                            <Ellipse.RenderTransform>
                                                <ScaleTransform x:N ame="LivePulse" S caleX="1" S caleY="1" C enterX="4" C enterY="4"/>
                                            </Ellipse.RenderTransform>
                                            <Ellipse.Triggers>
                                                <EventTrigger R outedEvent=" Loaded">
                                                    <BeginStoryboard>
                                                        <Storyboard R epeatBehavior="Forever">
                                                            <DoubleAnimation Storyboard.T argetName="LivePulse"
                                                                            Storyboard.T argetProperty="ScaleX"
                                                                            F rom="1.0" To="1.5" D uration="0:0:1"
                                                                            A utoReverse="True"/>
                                                            <DoubleAnimation Storyboard.T argetName="LivePulse"
                                                                            Storyboard.T argetProperty="ScaleY"
                                                                            F rom="1.0" To="1.5" D uration="0:0:1"
                                                                            A utoReverse="True"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </EventTrigger>
                                            </Ellipse.Triggers>
                                        </Ellipse>
                                        <TextBlock T ext="LIVE DATA"
                                                  F ontSize="12"
                                                  F ontWeight="Bold"
                                                  F oreground="{DynamicResource ProfessionalTextPrimary}"/>
                                    </StackPanel>
                                </Border>

                                <TextBlock T ext="Auto-refresh: 5 seconds"
                                          F ontSize="12"
                                          F oreground="{DynamicResource ProfessionalTextSecondary}"
                                          V erticalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Grid.C olumn="1" O rientation="Horizontal" V erticalAlignment="Center">
                            <Border B ackground="#2D2D30" C ornerRadius="8" P adding="12,6" M argin="0,0,12,0">
                                <StackPanel O rientation="Horizontal">
                                    <TextBlock T ext="🕒" F ontSize="16" V erticalAlignment="Center" M argin="0,0,6,0"/>
                                    <TextBlock T ext="{Binding S ource={x:Static sys:DateTime.Now}, S tringFormat='HH:mm:ss'}"
                                              F ontSize="14" F ontWeight="SemiBold"
                                              F oreground="{DynamicResource BrandPrimaryBrush}"
                                              V erticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                            <Border B ackground="#2D2D30" C ornerRadius="8" P adding="12,6">
                                <StackPanel O rientation="Horizontal">
                                    <TextBlock T ext="📅" F ontSize="16" V erticalAlignment="Center" M argin="0,0,6,0"/>
                                    <TextBlock T ext="{Binding S ource={x:Static sys:DateTime.Now}, S tringFormat='MMM dd, yyyy'}"
                                              F ontSize="14" F ontWeight="SemiBold"
                                              F oreground="{DynamicResource BrandPrimaryBrush}"
                                              V erticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Border>
                <!-- Future Content Placeholder -->
                <Border Grid.R ow="3"
                        S tyle="{StaticResource DashboardTileStyle}"
                        B ackground="{DynamicResource ProfessionalSurfaceDark}"
                        M argin="0,0,0,20">
                    <Grid>
                        <TextBlock T ext="📊 Advanced Analytics Coming Soon"
                                  S tyle="{StaticResource TileHeaderStyle}"
                                  F oreground="{DynamicResource ProfessionalTextSecondary}"
                                  H orizontalAlignment="Center"
                                  V erticalAlignment="Center"/>
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>

        <!-- Main Docking Manager for Secondary Panels -->
        <Grid Grid.R ow="2">
            <syncfusion:DockingManager x:N ame="MainDockingManager">

            <!-- Dashboard Overview Panel (Document) -->
            <ContentControl x:N ame="DashboardOverview"
                          syncfusion:DockingManager.H eader="Dashboard Overview"
                          syncfusion:DockingManager.S tate="Document"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <ScrollViewer V erticalScrollBarVisibility="Auto" P adding="16">
                    <!-- Custom Tile Dashboard Implementation -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition H eight="Auto"/>
                            <RowDefinition H eight="Auto"/>
                            <RowDefinition H eight="Auto"/>
                            <RowDefinition H eight="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Enhanced Quick Stats Tiles Row 1 -->
                        <UniformGrid Grid.R ow="0" C olumns="4" M argin="0,0,0,20">
                            <!-- Enhanced Fleet Summary Tile -->
                            <Border x:N ame="FleetStatusTile"
                                   S tyle="{DynamicResource DashboardTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="🚌 Fleet Status" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#2ECC71" DockPanel.D ock="Right" T oolTip="System Online"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition W idth="*"/>
                                            <ColumnDefinition W idth="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.C olumn="0">
                                            <TextBlock T ext="Total Buses:" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="{Binding TotalBuses}" S tyle="{DynamicResource TileValueStyle}"/>
                                            <TextBlock T ext="{Binding FleetActivePercentageFormatted, S tringFormat='Active: {0}'}"
                                                      S tyle="{DynamicResource TileContentStyle}" M argin="0,8,0,0" F ontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- Syncfusion Circular Progress for Fleet Status -->
                                        <syncfusion:SfCircularProgressBar Grid.C olumn="1"
                                                                        W idth="70" H eight="70"
                                                                        P rogress="{Binding FleetActivePercentage}"
                                                                        M argin="5"
                                                                        S tyle="{DynamicResource BusBuddySfCircularProgressBarStyle}">
                                            <syncfusion:SfCircularProgressBar.Content>
                                                <TextBlock T ext="{Binding FleetActivePercentage, S tringFormat='{}{0:F0}%'}" F ontSize="12" F ontWeight="Bold"
                                                         H orizontalAlignment="Center" V erticalAlignment="Center"/>
                                            </syncfusion:SfCircularProgressBar.Content>
                                        </syncfusion:SfCircularProgressBar>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Driver Summary Tile -->
                            <Border x:N ame="DriverManagementTile"
                                   S tyle="{DynamicResource DashboardTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="👨‍💼 Driver Management" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#3498DB" DockPanel.D ock="Right" T oolTip="Fully Staffed"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition W idth="*"/>
                                            <ColumnDefinition W idth="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.C olumn="0">
                                            <TextBlock T ext="Total Drivers:" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="{Binding TotalDrivers}" S tyle="{DynamicResource TileValueStyle}"/>
                                            <TextBlock T ext="{Binding DriverAvailabilityPercentageFormatted, S tringFormat='Available: {0}'}"
                                                      S tyle="{DynamicResource TileContentStyle}" M argin="0,8,0,0" F ontWeight="SemiBold"/>
                                        </StackPanel>
                                        <StackPanel Grid.C olumn="1" V erticalAlignment="Center">
                                            <TextBlock T ext="{Binding AvailableDriverCount}" F ontSize="20" F ontWeight="Bold"
                                                      F oreground="#3498DB" H orizontalAlignment="Center"/>
                                            <TextBlock T ext="Available" F ontSize="12" F oreground="#3498DB" H orizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Routes Summary Tile with Syncfusion Radial Gauge -->
                            <Border x:N ame="RouteNetworkTile"
                                   S tyle="{DynamicResource DashboardTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="🗺️ Route Network" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#E67E22" DockPanel.D ock="Right" T oolTip="Optimized Coverage"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition W idth="*"/>
                                            <ColumnDefinition W idth="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.C olumn="0">
                                            <TextBlock T ext="Active Routes:" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="{Binding TotalActiveRoutes}" S tyle="{DynamicResource TileValueStyle}"/>
                                            <TextBlock T ext="{Binding RouteCoveragePercentageFormatted, S tringFormat='Coverage: {0}'}"
                                                      S tyle="{DynamicResource TileContentStyle}" M argin="0,8,0,0" F ontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- Syncfusion Radial Gauge for Route Coverage -->
                                        <syncfusion:SfCircularGauge Grid.C olumn="1" W idth="60" H eight="60" M argin="10,0,0,0">
                                            <syncfusion:SfCircularGauge.Scales>
                                                <syncfusion:CircularScale S tartAngle="135" S weepAngle="270"
                                                                   S tartValue="0" E ndValue="100"
                                                                   I nterval="25" S howTicks="False"
                                                                   S howLabels="False"
                                                                   R imStroke="#323130" R imStrokeThickness="6">
                                                    <syncfusion:CircularScale.Pointers>
                                                        <syncfusion:CircularPointer N eedlePointerType="Triangle"
                                                                             P ointerCapStroke="#FF8C00"
                                                                             N eedlePointerStroke="#FF8C00"
                                                                             V alue="{Binding RouteCoveragePercentage}"/>
                                                    </syncfusion:CircularScale.Pointers>
                                                    <syncfusion:CircularScale.Ranges>
                                                        <syncfusion:CircularRange S tartValue="0" E ndValue="100"
                                                                           S troke="#FF8C00" S trokeThickness="6"/>
                                                    </syncfusion:CircularScale.Ranges>
                                                </syncfusion:CircularScale>
                                            </syncfusion:SfCircularGauge.Scales>
                                            <syncfusion:SfCircularGauge.Annotations>
                                                <syncfusion:GaugeAnnotation>
                                                    <syncfusion:GaugeAnnotation.Content>
                                                        <TextBlock T ext="{Binding RouteCoveragePercentage, S tringFormat='{}{0:F0}%'}"
                                                                  F ontSize="12"
                                                                  F ontWeight="Bold"
                                                                  F oreground="#FF8C00"
                                                                  H orizontalAlignment="Center"
                                                                  V erticalAlignment="Center"/>
                                                    </syncfusion:GaugeAnnotation.Content>
                                                </syncfusion:GaugeAnnotation>
                                            </syncfusion:SfCircularGauge.Annotations>
                                        </syncfusion:SfCircularGauge>
                                    </Grid>
                                </StackPanel>
                            </Border>

        <!-- Enhanced Performance Tile with Syncfusion Gauge -->
                            <Border x:N ame="SystemPerformanceTile"
                                   S tyle="{DynamicResource PerformanceTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="⚡ System Performance" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#2ECC71" DockPanel.D ock="Right" T oolTip="Excellent Performance"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition W idth="*"/>
                                            <ColumnDefinition W idth="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.C olumn="0">
                                            <TextBlock T ext="Response Time:" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="{Binding InitializationTimeFormatted}" S tyle="{DynamicResource TileValueStyle}" F ontSize="20"/>
                                            <TextBlock T ext="Next Update:" S tyle="{DynamicResource TileContentStyle}" M argin="0,5,0,0"/>
                                            <TextBlock T ext="{Binding NextUpdateTime}" F ontSize="12" F ontWeight="SemiBold" F oreground="#007ACC"/>
                                        </StackPanel>

                                        <!-- Syncfusion Circular Gauge for Performance -->
                                        <syncfusion:SfCircularGauge Grid.C olumn="1" W idth="80" H eight="80" M argin="10,0,0,0">
                                            <syncfusion:SfCircularGauge.Scales>
                                                <syncfusion:CircularScale S tartAngle="135" S weepAngle="270"
                                                                   S tartValue="0" E ndValue="100"
                                                                   I nterval="20" M inorTicksPerInterval="1"
                                                                   R imStroke="#323130" R imStrokeThickness="8"
                                                                   T ickStroke="{DynamicResource SecondaryForeground}" T ickStrokeThickness="1"
                                                                   L abelStroke="Transparent">
                                                    <syncfusion:CircularScale.Pointers>
                                                        <syncfusion:CircularPointer N eedlePointerType="Triangle"
                                                                             P ointerCapStroke="#0078D4"
                                                                             N eedlePointerStroke="#0078D4"
                                                                             V alue="{Binding SystemPerformanceScore}"/>
                                                    </syncfusion:CircularScale.Pointers>
                                                    <syncfusion:CircularScale.Ranges>
                                                        <syncfusion:CircularRange S tartValue="0" E ndValue="50"
                                                                           S troke="#E74856" S trokeThickness="8"/>
                                                        <syncfusion:CircularRange S tartValue="50" E ndValue="75"
                                                                           S troke="#FF8C00" S trokeThickness="8"/>
                                                        <syncfusion:CircularRange S tartValue="75" E ndValue="100"
                                                                           S troke="#2ECC71" S trokeThickness="8"/>
                                                    </syncfusion:CircularScale.Ranges>
                                                </syncfusion:CircularScale>
                                            </syncfusion:SfCircularGauge.Scales>
                                        </syncfusion:SfCircularGauge>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </UniformGrid>

                        <!-- Enhanced Operations Tiles Row 2 -->
                        <UniformGrid Grid.R ow="1" C olumns="3" M argin="0,0,0,20">
                            <!-- Enhanced Maintenance Tile with Syncfusion Progress -->
                            <Border x:N ame="MaintenanceHubTile"
                                   S tyle="{DynamicResource DashboardTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="🔧 Maintenance Hub" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#F39C12" DockPanel.D ock="Right" T oolTip="Maintenance Scheduled"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition H eight="Auto"/>
                                            <RowDefinition H eight="Auto"/>
                                            <RowDefinition H eight="60"/>
                                        </Grid.RowDefinitions>

                                        <StackPanel Grid.R ow="0">
                                            <TextBlock T ext="Pending Items: 3" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold"/>
                                            <TextBlock T ext="Next Service: {Binding NextServiceBus}" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="Due: {Binding NextServiceDue}" S tyle="{DynamicResource TileValueStyle}" F ontSize="16" F oreground="#E74C3C"/>
                                        </StackPanel>

                                        <StackPanel Grid.R ow="1" O rientation="Horizontal" M argin="0,10,0,10">
                                            <Border B ackground="#2ECC71" C ornerRadius="3" P adding="8,4" M argin="0,0,8,0">
                                                <TextBlock T ext="2 Complete" F oreground="White" F ontSize="12" F ontWeight="SemiBold"/>
                                            </Border>
                                            <Border B ackground="#E74C3C" C ornerRadius="3" P adding="8,4">
                                                <TextBlock T ext="3 Pending" F oreground="White" F ontSize="12" F ontWeight="SemiBold"/>
                                            </Border>
                                        </StackPanel>

                                        <!-- Syncfusion Circular ProgressBar for Maintenance -->
                                        <syncfusion:SfCircularProgressBar Grid.R ow="2"
                                                                        W idth="55" H eight="55"
                                                                        H orizontalAlignment="Center"
                                                                        P rogress="{Binding MaintenanceCompletionPercentage}" FontSize="11"/>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Fuel Management Tile with Syncfusion ProgressBar -->
                            <Border x:N ame="FuelManagementTile"
                                   S tyle="{DynamicResource DashboardTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="⛽ Fuel Analytics" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#27AE60" DockPanel.D ock="Right" T oolTip="Fuel Efficiency Good"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition H eight="Auto"/>
                                            <RowDefinition H eight="Auto"/>
                                            <RowDefinition H eight="50"/>
                                        </Grid.RowDefinitions>

                                        <StackPanel Grid.R ow="0">
                                            <TextBlock T ext="Avg Consumption: 8.2L/100km" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="Avg Consumption: {Binding AverageFuelConsumption}" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="Monthly Budget: {Binding FuelBudgetUsedPercentage, S tringFormat='{}{0}% used'}" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="Efficiency: {Binding FuelEfficiencyStatus}" S tyle="{DynamicResource TileValueStyle}" F ontSize="16" F oreground="#27AE60"/>
                                        </StackPanel>

                                        <!-- Fuel efficiency indicator -->
                                        <StackPanel Grid.R ow="1" M argin="0,10,0,0">
                                            <TextBlock T ext="Budget Utilization" F ontSize="12" F ontWeight="SemiBold" M argin="0,0,0,5"/>
                                            <!-- Syncfusion Linear ProgressBar -->
                                            <syncfusion:SfLinearProgressBar H eight="12"
                                                                           P rogress="{Binding FuelBudgetUsedPercentage}"
                                                                           S tyle="{DynamicResource BusBuddySfLinearProgressBarStyle}"/>
                                        </StackPanel>

                                        <!-- Efficiency Meter -->
                                        <StackPanel Grid.R ow="2" O rientation="Horizontal" H orizontalAlignment="Center" M argin="0,10,0,0">
                                            <syncfusion:SfCircularGauge W idth="40" H eight="40" M argin="0,0,10,0">
                                                <syncfusion:SfCircularGauge.Scales>
                                                    <syncfusion:CircularScale S tartAngle="135" S weepAngle="270"
                                                                       S tartValue="0" E ndValue="10"
                                                                       S howLabels="False" S howTicks="False"
                                                                       R imStroke="#323130" R imStrokeThickness="4">
                                                        <syncfusion:CircularScale.Pointers>
                                                            <syncfusion:CircularPointer N eedlePointerType="Triangle"
                                                                                 P ointerCapStroke="#2ECC71"
                                                                                 N eedlePointerStroke="#2ECC71"
                                                                                 V alue="{Binding AverageFuelConsumption}"/>
                                                        </syncfusion:CircularScale.Pointers>
                                                        <syncfusion:CircularScale.Ranges>
                                                            <syncfusion:CircularRange S tartValue="0" E ndValue="10"
                                                                               S troke="#2ECC71" S trokeThickness="4"/>
                                                        </syncfusion:CircularScale.Ranges>
                                                    </syncfusion:CircularScale>
                                                </syncfusion:SfCircularGauge.Scales>
                                            </syncfusion:SfCircularGauge>
                                            <StackPanel V erticalAlignment="Center">
                                                <TextBlock T ext="8.2 L/100km" F ontSize="12" F ontWeight="SemiBold" F oreground="#27AE60"/>
                                                <TextBlock T ext="{Binding AverageFuelConsumption, S tringFormat='{}{0} L/100km'}" F ontSize="12" F ontWeight="SemiBold" F oreground="#27AE60"/>
                                                <TextBlock T ext="Efficiency" F ontSize="10" F oreground="#666666"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Enhanced Student Management Tile with Syncfusion Gauge -->
                            <Border x:N ame="StudentTransportTile"
                                   S tyle="{DynamicResource DashboardTileStyle}"
                                   C ursor="Hand"
                                   M ouseLeftButtonDown="DashboardTile_MouseLeftButtonDown">
                                <StackPanel>
                                    <DockPanel>
                                        <TextBlock T ext="🎓 Student Transport" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#9B59B6" DockPanel.D ock="Right" T oolTip="All Students Accounted"/>
                                    </DockPanel>
                                    <Grid M argin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition W idth="*"/>
                                            <ColumnDefinition W idth="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.C olumn="0">
                                            <TextBlock T ext="Total Enrolled: {Binding TotalEnrolledStudents}" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="Active Today: {Binding ActiveStudentsToday}" S tyle="{DynamicResource TileContentStyle}"/>
                                            <TextBlock T ext="{Binding StudentCoverageStatus}" S tyle="{DynamicResource TileContentStyle}"
                                                      F ontWeight="SemiBold" F oreground="#27AE60" M argin="0,8,0,0"/>
                                        </StackPanel>

                                        <!-- Syncfusion Circular Gauge for Attendance -->
                                        <syncfusion:SfCircularGauge Grid.C olumn="1" W idth="70" H eight="70" M argin="10,0,0,0">
                                            <syncfusion:SfCircularGauge.Scales>
                                                <syncfusion:CircularScale S tartAngle="135" S weepAngle="270"
                                                                   S tartValue="0" E ndValue="100"
                                                                   I nterval="25" S howTicks="False"
                                                                   S howLabels="False"
                                                                   R imStroke="#323130" R imStrokeThickness="6">
                                                    <syncfusion:CircularScale.Pointers>
                                                        <syncfusion:CircularPointer N eedlePointerType="Triangle"
                                                                             P ointerCapStroke="#0078D4"
                                                                             N eedlePointerStroke="#0078D4"
                                                                             V alue="{Binding StudentAttendancePercentage}"/>
                                                    </syncfusion:CircularScale.Pointers>
                                                    <syncfusion:CircularScale.Ranges>
                                                        <syncfusion:CircularRange S tartValue="0" E ndValue="100"
                                                                           S troke="#0078D4" S trokeThickness="6"/>
                                                    </syncfusion:CircularScale.Ranges>
                                                </syncfusion:CircularScale>
                                            </syncfusion:SfCircularGauge.Scales>
                                            <syncfusion:SfCircularGauge.Annotations>
                                                <syncfusion:GaugeAnnotation>
                                                    <syncfusion:GaugeAnnotation.Content>
                                                        <StackPanel H orizontalAlignment="Center">
                                                            <TextBlock T ext="95%" F ontSize="14" F ontWeight="Bold"
                                                                      F oreground="#0078D4" H orizontalAlignment="Center"/>
                                                            <TextBlock T ext="{Binding StudentAttendancePercentage, S tringFormat='{}{0:F0}%'}" F ontSize="9"
                                                                      F oreground="{DynamicResource SecondaryForeground}" H orizontalAlignment="Center"/>
                                                        </StackPanel>
                                                    </syncfusion:GaugeAnnotation.Content>
                                                </syncfusion:GaugeAnnotation>
                                            </syncfusion:SfCircularGauge.Annotations>
                                        </syncfusion:SfCircularGauge>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </UniformGrid>

                        <!-- Enhanced Analytics Dashboard Row 3 -->
                        <Border Grid.R ow="2" S tyle="{DynamicResource DashboardTileStyle}" M argin="0,0,0,20">
                            <StackPanel>
                                <DockPanel M argin="0,0,0,20">
                                    <TextBlock T ext="📈 Analytics Dashboard" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                    <StackPanel O rientation="Horizontal" DockPanel.D ock="Right">
                                        <syncfusion:ComboBoxAdv x:N ame="AnalyticsTimeRange"
                                                              W idth="150" H eight="30"
                                                              S electedIndex="0"
                                                              S electionChanged="AnalyticsFilterComboBox_SelectionChanged"
                                                              S tyle="{DynamicResource BusBuddyComboBoxAdvStyle}">
                                            <syncfusion:ComboBoxItemAdv C ontent="Last 7 Days"/>
                                            <syncfusion:ComboBoxItemAdv C ontent="Last 30 Days"/>
                                            <syncfusion:ComboBoxItemAdv C ontent="Last 3 Months"/>
                                            <syncfusion:ComboBoxItemAdv C ontent="This Year"/>
                                        </syncfusion:ComboBoxAdv>
                                        <syncfusion:ButtonAdv x:N ame="RefreshAnalyticsButton"
                                                            L abel="🔄 Refresh"
                                                            W idth="80" H eight="30"
                                                            M argin="10,0,0,0"
                                                            C lick="RefreshAnalyticsButton_Click"
                                                            S tyle="{DynamicResource BusBuddySecondaryButtonAdvStyle}"/>
                                    </StackPanel>
                                </DockPanel>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition W idth="*"/>
                                        <ColumnDefinition W idth="*"/>
                                        <ColumnDefinition W idth="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Fleet Performance Trend Chart -->
                                    <Border Grid.C olumn="0" B ackground="#F8F9FA" C ornerRadius="8" P adding="15" M argin="0,0,10,0">
                                        <StackPanel>
                                            <TextBlock T ext="Fleet Performance Trend" F ontWeight="SemiBold" F ontSize="14" M argin="0,0,0,10" F oreground="#2C3E50"/>
                                            <syncfusion:SfChart x:N ame="FleetPerformanceChart"
                                                          H eight="180"
                                                          M ouseLeftButtonDown="Chart_MouseLeftButtonDown"
                                                          S tyle="{DynamicResource BusBuddySfChartStyle}">
                                                <syncfusion:SfChart.PrimaryAxis>
                                                    <syncfusion:CategoryAxis S howGridLines="False"/>
                                                </syncfusion:SfChart.PrimaryAxis>
                                                <syncfusion:SfChart.SecondaryAxis>
                                                    <syncfusion:NumericalAxis S howGridLines="True"/>
                                                </syncfusion:SfChart.SecondaryAxis>
                                                <syncfusion:SfChart.Series>
                                                    <syncfusion:SplineAreaSeries I temsSource="{Binding FleetPerformanceData}"
                                                                          X BindingPath="Period"
                                                                          Y BindingPath="Performance"
                                                                          S trokeThickness="2"
                                                                          S troke="{DynamicResource InfoBrush}">
                                                        <syncfusion:SplineAreaSeries.Interior>
                                                            <LinearGradientBrush S tartPoint="0,0" E ndPoint="0,1">
                                                                <GradientStop C olor="{DynamicResource InfoColor}" O ffset="0"/>
                                                                <GradientStop C olor="{DynamicResource PrimaryColor}" O ffset="1"/>
                                                            </LinearGradientBrush>
                                                        </syncfusion:SplineAreaSeries.Interior>
                                                    </syncfusion:SplineAreaSeries>
                                                </syncfusion:SfChart.Series>
                                            </syncfusion:SfChart>
                                        </StackPanel>
                                    </Border>

                                    <!-- Route Efficiency Chart -->
                                    <Border Grid.C olumn="1" B ackground="#F8F9FA" C ornerRadius="8" P adding="15" M argin="5,0">
                                        <StackPanel>
                                            <TextBlock T ext="Route Efficiency Analysis" F ontWeight="SemiBold" F ontSize="14" M argin="0,0,0,10" F oreground="#2C3E50"/>
                                            <syncfusion:SfChart x:N ame="RouteEfficiencyChart"
                                                          H eight="180"
                                                          M ouseLeftButtonDown="Chart_MouseLeftButtonDown"
                                                          S tyle="{DynamicResource BusBuddySfChartStyle}">
                                                <syncfusion:SfChart.PrimaryAxis>
                                                    <syncfusion:CategoryAxis S howGridLines="False"/>
                                                </syncfusion:SfChart.PrimaryAxis>
                                                <syncfusion:SfChart.SecondaryAxis>
                                                    <syncfusion:NumericalAxis S howGridLines="True"/>
                                                </syncfusion:SfChart.SecondaryAxis>
                                                <syncfusion:SfChart.Series>
                                                    <syncfusion:ColumnSeries I temsSource="{Binding RouteEfficiencyData}"
                                                                      X BindingPath="Route"
                                                                      Y BindingPath="Efficiency">
                                                        <syncfusion:ColumnSeries.Interior>
                                                            <LinearGradientBrush S tartPoint="0,0" E ndPoint="0,1">
                                                                <GradientStop C olor="{DynamicResource WarningColor}" O ffset="0"/>
                                                                <GradientStop C olor="{DynamicResource PrimaryColor}" O ffset="1"/>
                                                            </LinearGradientBrush>
                                                        </syncfusion:ColumnSeries.Interior>
                                                    </syncfusion:ColumnSeries>
                                                </syncfusion:SfChart.Series>
                                            </syncfusion:SfChart>
                                        </StackPanel>
                                    </Border>

                                    <!-- Resource Utilization Gauge -->
                                    <Border Grid.C olumn="2" B ackground="#F8F9FA" C ornerRadius="8" P adding="15" M argin="10,0,0,0">
                                        <StackPanel>
                                            <TextBlock T ext="Resource Utilization" F ontWeight="SemiBold" F ontSize="14" M argin="0,0,0,10" F oreground="#2C3E50"/>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition H eight="*"/>
                                                    <RowDefinition H eight="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Advanced Syncfusion Circular Gauge -->
                                                <syncfusion:SfCircularGauge Grid.R ow="0" W idth="150" H eight="150">
                                                    <syncfusion:SfCircularGauge.Scales>
                                                        <syncfusion:CircularScale S tartAngle="135" S weepAngle="270"
                                                                           S tartValue="0" E ndValue="100"
                                                                           I nterval="10" M inorTicksPerInterval="1"
                                                                           R imStroke="#323130" R imStrokeThickness="10"
                                                                           T ickStroke="{DynamicResource SecondaryForeground}" T ickStrokeThickness="1"
                                                                           L abelStroke="{DynamicResource Foreground}">
                                                            <syncfusion:CircularScale.Pointers>
                                                                <syncfusion:CircularPointer N eedlePointerType="Triangle"
                                                                                     P ointerCapStroke="#0078D4"
                                                                                     N eedlePointerStroke="#0078D4"
                                                                                     V alue="{Binding ResourceUtilizationPercentage}"/>
                                                            </syncfusion:CircularScale.Pointers>
                                                            <syncfusion:CircularScale.Ranges>
                                                                <syncfusion:CircularRange S tartValue="0" E ndValue="40"
                                                                                   S troke="#E74856" S trokeThickness="10"/>
                                                                <syncfusion:CircularRange S tartValue="40" E ndValue="70"
                                                                                   S troke="#FF8C00" S trokeThickness="10"/>
                                                                <syncfusion:CircularRange S tartValue="70" E ndValue="100"
                                                                                   S troke="#2ECC71" S trokeThickness="10"/>
                                                            </syncfusion:CircularScale.Ranges>
                                                        </syncfusion:CircularScale>
                                                    </syncfusion:SfCircularGauge.Scales>
                                                    <syncfusion:SfCircularGauge.Annotations>
                                                        <syncfusion:GaugeAnnotation>
                                                            <syncfusion:GaugeAnnotation.Content>
                                                                <StackPanel H orizontalAlignment="Center">
                                                                    <TextBlock T ext="78%" F ontSize="20" F ontWeight="Bold"
                                                                              F oreground="#0078D4" H orizontalAlignment="Center"/>
                                                                    <TextBlock T ext="{Binding ResourceUtilizationPercentage, S tringFormat='{}{0:F0}%'}" F ontSize="12"
                                                                              F oreground="{DynamicResource SecondaryForeground}" H orizontalAlignment="Center"/>
                                                                </StackPanel>
                                                            </syncfusion:GaugeAnnotation.Content>
                                                        </syncfusion:GaugeAnnotation>
                                                    </syncfusion:SfCircularGauge.Annotations>
                                                </syncfusion:SfCircularGauge>

                                                <!-- Utilization Breakdown -->
                                                <StackPanel Grid.R ow="1" M argin="0,10,0,0">
                                                    <DockPanel M argin="0,2">
                                                        <Ellipse W idth="8" H eight="8" F ill="#2ECC71" V erticalAlignment="Center" DockPanel.D ock="Left"/>
                                                        <TextBlock T ext="Optimal: 45%" S tyle="{DynamicResource TileContentStyle}"
                                                                  F ontSize="11" M argin="8,0,0,0" DockPanel.D ock="Left"/>
                                                    </DockPanel>
                                                    <DockPanel M argin="0,2">
                                                        <Ellipse W idth="8" H eight="8" F ill="#FF8C00" V erticalAlignment="Center" DockPanel.D ock="Left"/>
                                                        <TextBlock T ext="Moderate: 33%" S tyle="{DynamicResource TileContentStyle}"
                                                                  F ontSize="11" M argin="8,0,0,0" DockPanel.D ock="Left"/>
                                                    </DockPanel>
                                                    <DockPanel M argin="0,2">
                                                        <Ellipse W idth="8" H eight="8" F ill="#E74856" V erticalAlignment="Center" DockPanel.D ock="Left"/>
                                                        <TextBlock T ext="Critical: 22%" S tyle="{DynamicResource TileContentStyle}"
                                                                  F ontSize="11" M argin="8,0,0,0" DockPanel.D ock="Left"/>
                                                    </DockPanel>
                                                </StackPanel>
                                            </Grid>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Enhanced System Status & Real-time Monitoring Row 4 -->
                        <Border Grid.R ow="3" S tyle="{DynamicResource DashboardTileStyle}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition W idth="*"/>
                                    <ColumnDefinition W idth="*"/>
                                    <ColumnDefinition W idth="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- System Health Column -->
                                <StackPanel Grid.C olumn="0" M argin="0,0,20,0">
                                    <DockPanel M argin="0,0,0,15">
                                        <TextBlock T ext="📊 System Health" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#2ECC71" DockPanel.D ock="Right" T oolTip="All Systems Operational"/>
                                    </DockPanel>

                                    <StackPanel>
                                        <DockPanel M argin="0,0,0,8">
                                            <TextBlock T ext="Database:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Left"/>
                                            <StackPanel O rientation="Horizontal" DockPanel.D ock="Right">
                                                <Ellipse W idth="8" H eight="8" F ill="#2ECC71" V erticalAlignment="Center" M argin="0,0,5,0"/>
                                                <TextBlock T ext="Connected" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold" F oreground="#2ECC71"/>
                                            </StackPanel>
                                        </DockPanel>

                                        <DockPanel M argin="0,0,0,8">
                                            <TextBlock T ext="Services:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Left"/>
                                            <StackPanel O rientation="Horizontal" DockPanel.D ock="Right">
                                                <Ellipse W idth="8" H eight="8" F ill="#2ECC71" V erticalAlignment="Center" M argin="0,0,5,0"/>
                                                <TextBlock T ext="Online" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold" F oreground="#2ECC71"/>
                                            </StackPanel>
                                        </DockPanel>

                                        <DockPanel M argin="0,0,0,8">
                                            <TextBlock T ext="Last Sync:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Left"/>
                                            <TextBlock T ext="2 mins ago" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold" F oreground="#3498DB" DockPanel.D ock="Right"/>
                                        </DockPanel>

                                        <!-- System Performance Gauge -->
                                        <DockPanel M argin="0,15,0,0">
                                            <TextBlock T ext="Performance:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Top" M argin="0,0,0,10"/>
                                            <Border B ackground="#ECF0F1"
                                                   C ornerRadius="4"
                                                   H eight="8">
                                                <Grid>
                                                    <Border B ackground="#2ECC71"
                                                           C ornerRadius="4"
                                                           W idth="180"
                                                           H orizontalAlignment="Left"/>
                                                    <TextBlock T ext="92% Optimal"
                                                              F ontSize="10"
                                                              F ontWeight="SemiBold"
                                                              F oreground="White"
                                                              H orizontalAlignment="Center"
                                                              V erticalAlignment="Center"/>
                                                </Grid>
                                            </Border>
                                        </DockPanel>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Real-time Updates Column -->
                                <StackPanel Grid.C olumn="1" M argin="20,0">
                                    <DockPanel M argin="0,0,0,15">
                                        <TextBlock T ext="🔄 Live Dashboard" S tyle="{DynamicResource TileHeaderStyle}" DockPanel.D ock="Left"/>
                                        <Ellipse S tyle="{DynamicResource StatusIndicatorStyle}" F ill="#3498DB" DockPanel.D ock="Right" T oolTip="Auto-refresh Active">
                                            <Ellipse.RenderTransform>
                                                <RotateTransform x:N ame="RefreshRotate" C enterX="6" C enterY="6"/>
                                            </Ellipse.RenderTransform>
                                            <Ellipse.Triggers>
                                                <EventTrigger R outedEvent=" Loaded">
                                                    <BeginStoryboard>
                                                        <Storyboard R epeatBehavior="Forever">
                                                            <DoubleAnimation Storyboard.T argetName="RefreshRotate"
                                                                           Storyboard.T argetProperty="Angle"
                                                                           F rom="0" To="360" D uration="0:0:3"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </EventTrigger>
                                            </Ellipse.Triggers>
                                        </Ellipse>
                                    </DockPanel>

                                    <StackPanel>
                                        <DockPanel M argin="0,0,0,8">
                                            <TextBlock T ext="Auto-refresh:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Left"/>
                                            <TextBlock T ext="Enabled" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold" F oreground="#2ECC71" DockPanel.D ock="Right"/>
                                        </DockPanel>

                                        <DockPanel M argin="0,0,0,8">
                                            <TextBlock T ext="Update Interval:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Left"/>
                                            <TextBlock T ext="5 seconds" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold" F oreground="#3498DB" DockPanel.D ock="Right"/>
                                        </DockPanel>

                                        <DockPanel M argin="0,0,0,8">
                                            <TextBlock T ext="Next Update:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Left"/>
                                            <TextBlock T ext="{Binding NextUpdateTime}" S tyle="{DynamicResource TileContentStyle}" F ontWeight="SemiBold" F oreground="#E67E22" DockPanel.D ock="Right"/>
                                        </DockPanel>

                                        <!-- Refresh countdown indicator -->
                                        <DockPanel M argin="0,15,0,0">
                                            <TextBlock T ext="Refresh Status:" S tyle="{DynamicResource TileContentStyle}" DockPanel.D ock="Top" M argin="0,0,0,10"/>
                                            <!-- Simple circular indicator -->
                                            <Border B ackground="#ECF0F1"
                                                   C ornerRadius="20"
                                                   W idth="40" H eight="40"
                                                   H orizontalAlignment="Center">
                                                <Grid>
                                                    <Ellipse W idth="32" H eight="32"
                                                            S troke="#3498DB"
                                                            S trokeThickness="3"
                                                            S trokeDashArray="2.5,1">
                                                        <Ellipse.RenderTransform>
                                                            <RotateTransform x:N ame="LiveIndicator" C enterX="16" C enterY="16"/>
                                                        </Ellipse.RenderTransform>
                                                        <Ellipse.Triggers>
                                                            <EventTrigger R outedEvent=" Loaded">
                                                                <BeginStoryboard>
                                                                    <Storyboard R epeatBehavior="Forever">
                                                                        <DoubleAnimation Storyboard.T argetName="LiveIndicator"
                                                                                       Storyboard.T argetProperty="Angle"
                                                                                       F rom="0" To="360" D uration="0:0:2"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                        </Ellipse.Triggers>
                                                    </Ellipse>
                                                    <TextBlock T ext="LIVE"
                                                              F ontSize="10"
                                                              F ontWeight="Bold"
                                                              F oreground="#3498DB"
                                                              H orizontalAlignment="Center"
                                                              V erticalAlignment="Center"/>
                                                </Grid>
                                            </Border>
                                        </DockPanel>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Quick Actions Column -->
                                <StackPanel Grid.C olumn="2" M argin="20,0,0,0">
                                    <TextBlock T ext="⚡ Quick Actions" S tyle="{DynamicResource TileHeaderStyle}" M argin="0,0,0,15"/>

                                    <StackPanel>
                                        <Border B ackground="{DynamicResource InfoBrush}"
                                               C ornerRadius="6"
                                               M argin="0,0,0,10">
                                            <syncfusion:ButtonAdv x:N ame="RefreshDataButton"
                                                   L abel="🔄 Refresh Data"
                                                   B ackground="Transparent"
                                                   F oreground="{DynamicResource Foreground}"
                                                   B orderThickness="0"
                                                   P adding="12,8"
                                                   F ontWeight="SemiBold"
                                                   C ursor="Hand"
                                                   C lick="RefreshDataButton_Click"/>
                                        </Border>

                                        <Border B ackground="#0078D4"
                                               C ornerRadius="6"
                                               M argin="0,0,0,10">
                                            <syncfusion:ButtonAdv x:N ame="ViewReportsButton"
                                                   L abel="📊 View Reports"
                                                   B ackground="Transparent"
                                                   F oreground="{DynamicResource Foreground}"
                                                   B orderThickness="0"
                                                   P adding="12,8"
                                                   F ontWeight="SemiBold"
                                                   C ursor="Hand"
                                                   C lick="ViewReportsButton_Click"/>
                                        </Border>

                                        <Border B ackground="#252526"
                                               C ornerRadius="6"
                                               M argin="0,0,0,10">
                                            <syncfusion:ButtonAdv x:N ame="DashboardSettingsButton"
                                                   L abel="⚙️ Settings"
                                                   B ackground="Transparent"
                                                   F oreground="{DynamicResource Foreground}"
                                                   B orderThickness="0"
                                                   P adding="12,8"
                                                   F ontWeight="SemiBold"
                                                   C ursor="Hand"
                                                   C lick="SettingsButton_Click"/>
                                        </Border>

                                        <!-- System uptime indicator -->
                                        <Border C ornerRadius="6"
                                               B orderBrush="#27AE60"
                                               B orderThickness="1"
                                               P adding="10"
                                               M argin="0,15,0,0">
                                            <Border.Background>
                                                <LinearGradientBrush S tartPoint="0,0" E ndPoint="0,1">
                                                    <GradientStop C olor="#E8F6F3" O ffset="0"/>
                                                    <GradientStop C olor="#D5F4E6" O ffset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <StackPanel>
                                                <TextBlock T ext="System Uptime" F ontSize="12" F ontWeight="SemiBold" F oreground="#27AE60" H orizontalAlignment="Center"/>
                                                <TextBlock T ext="99.8%" F ontSize="18" F ontWeight="Bold" F oreground="#27AE60" H orizontalAlignment="Center"/>
                                                <TextBlock T ext="Excellent" F ontSize="10" F oreground="#27AE60" H orizontalAlignment="Center"/>
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                </ScrollViewer>
            </ContentControl>

            <!-- Bus Management Panel (Docked Right) -->
            <ContentControl x:N ame="BusManagement"
                          syncfusion:DockingManager.H eader="Bus Management"
                          syncfusion:DockingManager.S tate="Dock"
                          syncfusion:DockingManager.S ideInDockedMode="Right"
                          syncfusion:DockingManager.D esiredWidthInDockedMode="350"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch"/>

            <!-- Driver Management Panel (Docked Left) -->
            <ContentControl x:N ame="DriverManagement"
                          syncfusion:DockingManager.H eader="Driver Management"
                          syncfusion:DockingManager.S tate="Dock"
                          syncfusion:DockingManager.S ideInDockedMode="Left"
                          syncfusion:DockingManager.D esiredWidthInDockedMode="300"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch"/>

            <!-- Route Management Panel (Document Tab) -->
            <ContentControl x:N ame="RouteManagement"
                          syncfusion:DockingManager.H eader="Route Management"
                          syncfusion:DockingManager.S tate="Document"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch"/>

            <!-- Schedule Management Panel (Auto Hidden) -->
            <ContentControl x:N ame="ScheduleManagement"
                          syncfusion:DockingManager.H eader="Schedule Management"
                          syncfusion:DockingManager.S tate="AutoHidden"
                          syncfusion:DockingManager.S ideInDockedMode="Bottom"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <TextBlock T ext="Schedule Management"
                             H orizontalAlignment="Center"
                             V erticalAlignment="Center"
                             F ontSize="16"
                             F oreground="{DynamicResource SecondaryForeground}"/>
                </Grid>
            </ContentControl>

            <!-- Student Management Panel (Docked Bottom) -->
            <ContentControl x:N ame="StudentManagement"
                          syncfusion:DockingManager.H eader="Student Management"
                          syncfusion:DockingManager.S tate="Dock"
                          syncfusion:DockingManager.S ideInDockedMode="Bottom"
                          syncfusion:DockingManager.D esiredHeightInDockedMode="200"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <TextBlock T ext="Student Management"
                             H orizontalAlignment="Center"
                             V erticalAlignment="Center"
                             F ontSize="16"
                             F oreground="{DynamicResource SecondaryForeground}"/>
                </Grid>
            </ContentControl>

            <!-- Maintenance Tracking Panel (Tabbed with Student Management) -->
            <ContentControl x:N ame="MaintenanceTracking"
                          syncfusion:DockingManager.H eader="Maintenance Tracking"
                          syncfusion:DockingManager.S tate="Dock"
                          syncfusion:DockingManager.S ideInDockedMode="Tabbed"
                          syncfusion:DockingManager.T argetNameInDockedMode="StudentManagement"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <TextBlock T ext="Maintenance Tracking"
                             H orizontalAlignment="Center"
                             V erticalAlignment="Center"
                             F ontSize="16"
                             F oreground="{DynamicResource SecondaryForeground}"/>
                </Grid>
            </ContentControl>

            <!-- Fuel Management Panel (Float) -->
            <ContentControl x:N ame="FuelManagement"
                          syncfusion:DockingManager.H eader="Fuel Management"
                          syncfusion:DockingManager.S tate="Float"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <TextBlock T ext="Fuel Management"
                             H orizontalAlignment="Center"
                             V erticalAlignment="Center"
                             F ontSize="16"
                             F oreground="{DynamicResource SecondaryForeground}"/>
                </Grid>
            </ContentControl>

            <!-- Activity Logging Panel (Auto Hidden) -->
            <ContentControl x:N ame="ActivityLogging"
                          syncfusion:DockingManager.H eader="Activity Logging"
                          syncfusion:DockingManager.S tate="AutoHidden"
                          syncfusion:DockingManager.S ideInDockedMode="Right"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <TextBlock T ext="Activity Logging"
                             H orizontalAlignment="Center"
                             V erticalAlignment="Center"
                             F ontSize="16"
                             F oreground="{DynamicResource SecondaryForeground}"/>
                </Grid>
            </ContentControl>

            <!-- System Loading Panel (Auto Hidden) - NEWLY INTEGRATED -->
            <ContentControl x:N ame="SystemLoadingPanel"
                          syncfusion:DockingManager.H eader="⚡ System Loading"
                          syncfusion:DockingManager.S tate="AutoHidden"
                          syncfusion:DockingManager.S ideInDockedMode="Bottom"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <views:LoadingView D ataContext="{Binding LoadingViewModel, F allbackValue={x:Null}}"
                                  M argin="10"
                                  H orizontalAlignment="Stretch"
                                  V erticalAlignment="Stretch"/>
            </ContentControl>

            <!-- XAI Chat Panel (Right Docked) - NEW ENHANCEMENT -->
            <ContentControl x:N ame="XAIChatPanel"
                          syncfusion:DockingManager.H eader="🤖 XAI Assistant"
                          syncfusion:DockingManager.S tate="Dock"
                          syncfusion:DockingManager.S ideInDockedMode="Right"
                          syncfusion:DockingManager.D esiredWidthInDockedMode="320"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition H eight="Auto"/>
                        <RowDefinition H eight="*"/>
                        <RowDefinition H eight="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Chat Header -->
                    <Border Grid.R ow="0" B ackground="#2C3E50" C ornerRadius="8,8,0,0" P adding="15,10" M argin="0,0,0,5">
                        <StackPanel O rientation="Horizontal">
                            <TextBlock T ext="🤖" F ontSize="16" V erticalAlignment="Center" M argin="0,0,8,0"/>
                            <TextBlock T ext="Bus Buddy AI Assistant" F ontWeight="SemiBold" F oreground="White" V erticalAlignment="Center"/>
                            <Border B ackground="#27AE60" C ornerRadius="6" P adding="6,2" M argin="10,0,0,0">
                                <TextBlock T ext="ONLINE" F ontSize="10" F ontWeight="Bold" F oreground="White"/>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- Chat Control - Using RichTextBox instead of non-existent SfChat -->
                    <Border Grid.R ow="1" B orderBrush="#E0E0E0" B orderThickness="1" C ornerRadius="0,0,8,8">
                        <Grid M argin="5">
                            <Grid.RowDefinitions>
                                <RowDefinition H eight="*"/>
                                <RowDefinition H eight="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Chat Messages Display -->
                            <ScrollViewer Grid.R ow="0" V erticalScrollBarVisibility="Auto">
                                <RichTextBox x:N ame="ChatMessagesBox"
                                           I sReadOnly="True"
                                           B orderThickness="0"
                                           B ackground="Transparent">
                                    <FlowDocument>
                                        <Paragraph>
                                            <Run T ext="🤖 XAI Assistant: Hello! I'm your Bus Buddy AI Assistant. Ask me about fleet status, routes, maintenance, or anything else!"
                                                 F oreground="#2C3E50" F ontWeight="SemiBold"/>
                                        </Paragraph>
                                        <Paragraph>
                                            <Run T ext="📊 Quick tip: Try asking about 'fleet status' or 'route efficiency'"
                                                 F oreground="#7F8C8D"/>
                                        </Paragraph>
                                    </FlowDocument>
                                </RichTextBox>
                            </ScrollViewer>

                            <!-- Chat Input -->
                            <DockPanel Grid.R ow="1" M argin="0,5,0,0">
                                <syncfusion:ButtonAdv DockPanel.D ock="Right"
                                                    C ontent="Send"
                                                    W idth="50"
                                                    B ackground="#3498DB"
                                                    F oreground="White"
                                                    B orderThickness="0"
                                                    C ornerRadius="4"
                                                    M argin="5,0,0,0"/>
                                <TextBox x:N ame="ChatInputBox"
                                       P adding="8"
                                       T ext="Type your question here..."
                                       B orderBrush="#BDC3C7"
                                       B orderThickness="1"/>
                            </DockPanel>
                        </Grid>
                    </Border>

                    <!-- Quick Actions -->
                    <StackPanel Grid.R ow="2" O rientation="Horizontal" M argin="0,10,0,0">
                        <syncfusion:ButtonAdv L abel="Fleet Status"
                                            B ackground="{DynamicResource InfoBrush}"
                                            F oreground="{DynamicResource Foreground}"
                                            B orderThickness="0"
                                            C ornerRadius="4"
                                            P adding="8,4"
                                            F ontSize="10"
                                            M argin="0,0,5,0"/>
                        <syncfusion:ButtonAdv L abel="Route Info"
                                            B ackground="#FF8C00"
                                            F oreground="{DynamicResource Foreground}"
                                            B orderThickness="0"
                                            C ornerRadius="4"
                                            P adding="8,4"
                                            F ontSize="10"
                                            M argin="0,0,5,0"/>
                        <syncfusion:ButtonAdv L abel="Maintenance"
                                            B ackground="#0078D4"
                                            F oreground="{DynamicResource Foreground}"
                                            B orderThickness="0"
                                            C ornerRadius="4"
                                            P adding="8,4"
                                            F ontSize="10"/>
                    </StackPanel>
                </Grid>
            </ContentControl>

            <!-- Google Earth Engine Panel (Floating) - NEW ENHANCEMENT -->
            <ContentControl x:N ame="EarthEnginePanel"
                          syncfusion:DockingManager.H eader="🌍 Earth Engine Maps"
                          syncfusion:DockingManager.S tate="Float"
                          syncfusion:DockingManager.D esiredWidthInFloatingMode="600"
                          syncfusion:DockingManager.D esiredHeightInFloatingMode="450"
                          syncfusion:DockingManager.C anSerialize="True"
                          H orizontalAlignment="Stretch"
                          V erticalAlignment="Stretch">
                <Grid M argin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition H eight="Auto"/>
                        <RowDefinition H eight="*"/>
                        <RowDefinition H eight="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Map Header with Controls -->
                    <Border Grid.R ow="0" B ackground="{DynamicResource SecondaryBackground}" C ornerRadius="8,8,0,0" P adding="15,10" M argin="0,0,0,5">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition W idth="*"/>
                                <ColumnDefinition W idth="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.C olumn="0" O rientation="Horizontal">
                                <TextBlock T ext="🌍" F ontSize="16" V erticalAlignment="Center" M argin="0,0,8,0"/>
                                <TextBlock T ext="Route &amp; Fleet Mapping" F ontWeight="SemiBold"
                                         F oreground="{DynamicResource SecondaryForeground}" V erticalAlignment="Center"/>
                            </StackPanel>

                            <StackPanel Grid.C olumn="1" O rientation="Horizontal">
                                <syncfusion:ComboBoxAdv W idth="120" H eight="25" S electedIndex="0" M argin="0,0,10,0"
                                               S tyle="{DynamicResource BusBuddyComboBoxAdvStyle}">
                                    <syncfusion:ComboBoxItemAdv C ontent="Satellite"/>
                                    <syncfusion:ComboBoxItemAdv C ontent="Terrain"/>
                                    <syncfusion:ComboBoxItemAdv C ontent="Roadmap"/>
                                    <syncfusion:ComboBoxItemAdv C ontent="Hybrid"/>
                                </syncfusion:ComboBoxAdv>
                                <syncfusion:ButtonAdv L abel="🔄" W idth="25" H eight="25" T oolTip="Refresh Map"
                                               S tyle="{DynamicResource BusBuddyIconButtonAdvStyle}"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Map Control Placeholder -->
                    <Border Grid.R ow="1" B orderBrush="#323130" B orderThickness="1" C ornerRadius="0,0,8,8">
                        <Grid B ackground="#252526">
                            <TextBlock T ext="🌍 Google Earth Engine Maps"
                                     H orizontalAlignment="Center"
                                     V erticalAlignment="Center"
                                     F oreground="#6C757D"
                                     F ontSize="16"/>
                            <TextBlock T ext="Map integration coming soon..."
                                     H orizontalAlignment="Center"
                                     V erticalAlignment="Center"
                                     M argin="0,30,0,0"
                                     F ontSize="12"
                                     F oreground="#ADB5BD"/>
                        </Grid>
                    </Border>

                    <!-- Map Legend and Status -->
                    <StackPanel Grid.R ow="2" O rientation="Horizontal" M argin="0,10,0,0">
                        <Border B ackground="#2ECC71" W idth="12" H eight="12" C ornerRadius="6" V erticalAlignment="Center"/>
                        <TextBlock T ext="Active Routes" F ontSize="11" M argin="5,0,15,0" V erticalAlignment="Center"/>
                        <Border B ackground="#E74C3C" W idth="12" H eight="12" C ornerRadius="6" V erticalAlignment="Center"/>
                        <TextBlock T ext="Maintenance Routes" F ontSize="11" M argin="5,0,15,0" V erticalAlignment="Center"/>
                        <Border B ackground="#F39C12" W idth="12" H eight="12" C ornerRadius="6" V erticalAlignment="Center"/>
                        <TextBlock T ext="Bus Locations" F ontSize="11" M argin="5,0,0,0" V erticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </ContentControl>
            </syncfusion:DockingManager>
        </Grid>
    </Grid>
</UserControl>


